<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Testing your Fortran installation and running an example &#8212; Clawpack 5.4.0 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/layout.css" type="text/css" />
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body role="document">
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <h1><a href="http://clawpack.org/">Clawpack-5</a></h1> 
    <nav>
      <ul>
        <li>
          <a href="contents.html">Docs</a>
        </li>
        <li>
          <a href="installing.html">Install</a>
        </li>
        <li>
          <a class="" href="galleries.html">Gallery</a>
        </li>
        <li>
          <a class="" href="community.html">Community</a>
        </li>
        <li>
          <a class="active" href="http://github.com/clawpack">Source</a>
        </li>
        <li>
          <a class="" href="developers.html">Develop</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">Clawpack 5.4.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="testing-your-fortran-installation-and-running-an-example">
<span id="first-run-fortran"></span><h1>Testing your Fortran installation and running an example<a class="headerlink" href="#testing-your-fortran-installation-and-running-an-example" title="Permalink to this headline">¶</a></h1>
<p>This assumes that you have downloaded the Fortran components of Clawpack,
see <span class="xref std std-ref">install_fortran</span>.</p>
<p>First ensure that you have <a class="reference internal" href="setenv.html#setenv"><span class="std std-ref">Set environment variables</span></a>
and that you have the <span class="xref std std-ref">install_prerequisites</span>.</p>
<p>As a first test of the Fortran code, try the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cd $CLAW/classic/tests
nosetests -sv
</pre></div>
</div>
<p>This will run several tests and compare a few numbers from the solution with
archived results.  The tests should run in a few seconds and
you should see output similar to this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">runTest</span> <span class="p">(</span><span class="n">tests</span><span class="o">.</span><span class="n">acoustics_1d_heterogeneous</span><span class="o">.</span><span class="n">regression_tests</span><span class="o">.</span><span class="n">Acoustics1DHeterogeneousTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">runTest</span> <span class="p">(</span><span class="n">tests</span><span class="o">.</span><span class="n">acoustics_3d_heterogeneous</span><span class="o">.</span><span class="n">regression_tests</span><span class="o">.</span><span class="n">Acoustics3DHeterogeneousTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">runTest</span> <span class="p">(</span><span class="n">tests</span><span class="o">.</span><span class="n">advection_2d_annulus</span><span class="o">.</span><span class="n">regression_tests</span><span class="o">.</span><span class="n">Advection2DAnnulusTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>

<span class="o">----------------------------------------------------------------------</span>
<span class="n">Ran</span> <span class="mi">3</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mf">4.639</span><span class="n">s</span>
<span class="n">OK</span>
</pre></div>
</div>
<p>There are similar <cite>tests</cite> subdirectories of <cite>$CLAW/amrclaw</cite> and
<cite>$CLAW/geoclaw</cite> to do quick tests of these codes.</p>
<div class="section" id="running-an-example">
<h2>Running an example<a class="headerlink" href="#running-an-example" title="Permalink to this headline">¶</a></h2>
<p>Many examples of Clawpack simulations can be seen in the <a class="reference internal" href="galleries.html#galleries"><span class="std std-ref">Galleries of all Clawpack applications</span></a>.</p>
</div>
<div class="section" id="classic">
<h2>Classic<a class="headerlink" href="#classic" title="Permalink to this headline">¶</a></h2>
<p>A simple 1-dimensional acoustics equations can be solved
using the code in <a class="reference external" href="_static/classic/examples/acoustics_1d_example1/README.html">$CLAW/classic/examples/acoustics_1d_example1</a>, as
illustrated in <span class="xref std std-ref">gallery_classic_amrclaw</span>.</p>
<p>Move to this directory via:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cd $CLAW/classic/examples/acoustics_1d_example1
</pre></div>
</div>
<p>You can try the following test in this directory, or you may want to first
make a copy of it (see the instructions in <a class="reference internal" href="newapp.html#copyex"><span class="std std-ref">Copying an existing example</span></a>).</p>
<p>The Makefiles are set up to do dependency checking so that in many
application directories you can simply type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ make .plots
</pre></div>
</div>
<p>and the Fortran code will be compiled, data files created, the code
run, and the results plotted automatically, resulting in a set of webpages
showing the results.</p>
<p>However, if this is your first attempt to run a code, it is useful to go
through these steps one at a time, both to understand the steps and so that
any problems with your installation can be properly identified.</p>
<p>You might want to start by examining the Makefile.  This sets a number of
variables, which at some point you might need to modify for other examples,
see <a class="reference internal" href="makefiles.html#makefiles"><span class="std std-ref">Clawpack Makefiles</span></a> for more about this.  At the bottom of the Makefile is
an <cite>include</cite> statement that points to a common Makefile that is used by most
applications, and where all the details of the make process can be found.</p>
<p>To compile the code, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ make .exe
</pre></div>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makeexe"><span class="std std-ref">Trouble running &#8220;make .exe&#8221;</span></a>.</p>
<p>This should compile the example code (after first compiling the required
library routines) and produce an executable named <cite>xclaw</cite> in this directory.</p>
<p>Before running the code, it is necessary to also create a set of data files
that are read in by the Fortran code.  This can be done via:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ make .data
</pre></div>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makedata"><span class="std std-ref">Trouble running &#8220;make .data&#8221;</span></a>.</p>
<p>This uses the Python code in <cite>setrun.py</cite> to create data files that have the
form <cite>*.data</cite>.</p>
<p>Once the executable and the data files all exist, we can run the code.  The
recommended way to do this is to type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ make .output
</pre></div>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makeoutput"><span class="std std-ref">Trouble running &#8220;make .output&#8221;</span></a>.</p>
<p>Before running the code a subdirectory <cite>_output</cite> is created
and the output of the code (often a large number of files) is directed to
this subdirectory.  This is convenient if you want to do several runs with
different parameter values and keep the results organized.  After the code
has run you can rename the subdirectory, or you can modify the variable
<cite>OUTDIR</cite> in the Makefile to direct results to a different directory.  See
<a class="reference internal" href="makefiles.html#makefiles"><span class="std std-ref">Clawpack Makefiles</span></a> for more details.  Copies of all the data files are also
placed in the output directory for future reference.</p>
<p><strong>Plotting the results.</strong>
Once the code has run and the files listed above have been created, there are several
options for plotting the results.</p>
<p>To try the Python tools, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ make .plots
</pre></div>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makeplots"><span class="std std-ref">Trouble running &#8220;make .plots&#8221;</span></a>.</p>
<p>If this works, it will create a subdirectory named <cite>_plots</cite> that contains a number of
image files (the <cite>*.png</cite> files) and a set of html files that can be used to view the
results from a web browser.  See <span class="xref std std-ref">plotting_makeplots</span> for more details.</p>
<p>An alternative is to view the plots from an interactive Python session, as described in
the section <a class="reference internal" href="plotting_python.html#plotting-iplotclaw"><span class="std std-ref">Interactive plotting with Iplotclaw</span></a>.</p>
<p>If you wish to use Matlab instead, see <a class="reference internal" href="matlab_plotting.html#matlabplots"><span class="std std-ref">Plotting using Matlab</span></a>.</p>
<p>Other visualization packages could also be used to display the results, but you will need
to figure out how to read in the data.  See <span class="xref std std-ref">fortfiles</span> for information about the
format of the files produced by Clawpack.</p>
</div>
<div class="section" id="more-examples">
<h2>More examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h2>
<p>There are additional examples in these directories:</p>
<blockquote>
<div><ul class="simple">
<li><cite>$CLAW/classic/examples</cite></li>
<li><cite>$CLAW/amrclaw/examples</cite></li>
<li><cite>$CLAW/geoclaw/examples</cite></li>
</ul>
</div></blockquote>
<p>You might also want to download the <a class="reference internal" href="apps.html#apps"><span class="std std-ref">Clawpack Applications repository</span></a>, which contains additional
examples.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p><a href="http://clawpack.org/">
    <img class="logo" src= "_static/clawlogo.jpg" alt="Logo"/>
</a>
<h2>Version 5.4.0</h2>
</p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Testing your Fortran installation and running an example</a><ul>
<li><a class="reference internal" href="#running-an-example">Running an example</a></li>
<li><a class="reference internal" href="#classic">Classic</a></li>
<li><a class="reference internal" href="#more-examples">More examples</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/first_run_fortran.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3>Versions</h3>
<ul>
    <li><a href="first_run_fortran.html">v5.4.0</a></li>
    <li><a href="../v5.3.1/contents.html">v5.3.1</a></li>
    <li><a href="../v5.3.0/contents.html">v5.3.0</a></li>
    <li><a href="../v5.2.1/contents.html">v5.2.1</a></li>
    <li><a href="../v5.2.0/contents.html">v5.2.0</a></li>
    <li><a href="../v5.1.0/contents.html">v5.1.0</a></li>
    <li><a href="../master/first_run_fortran.html">master</a></li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2017, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44811544-1', 'auto');
  ga('send', 'pageview');

  </script>
  
  </body>
</html>