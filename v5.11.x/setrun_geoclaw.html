
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Specifying GeoClaw parameters in setrun.py &#8212; Clawpack 5.11.x documentation</title>
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/layout.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/flasky.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Plotting routines for GeoClaw" href="plotting_geoclaw.html" />
    <link rel="prev" title="kmltools module of utility functions" href="kmltools_module.html" /> 
  </head><body>
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <h1><a href="http://clawpack.org/">Clawpack-5</a></h1> 
    <nav>
      <ul>
        <li>
          <a href="contents.html">Docs</a>
        </li>
        <li>
          <a href="installing.html">Install</a>
        </li>
        <li>
          <a class="" href="http://clawpack.org/gallery/index.html">Gallery</a>
        </li>
        <li>
          <a href="about.html">Citation</a>
        </li>
        <li>
          <a class="active" href="http://github.com/clawpack">GitHub</a>
        </li>
        <li>
          <a class="" href="community.html">Community</a>
        </li>
        <li>
          <a class="" href="developers.html">Contribute</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plotting_geoclaw.html" title="Plotting routines for GeoClaw"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="kmltools_module.html" title="kmltools module of utility functions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">Clawpack 5.11.x documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="geoclaw.html" accesskey="U">GeoClaw Description and Detailed Contents</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Specifying GeoClaw parameters in <cite>setrun.py</cite></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="specifying-geoclaw-parameters-in-setrun-py">
<span id="setrun-geoclaw"></span><h1>Specifying GeoClaw parameters in <cite>setrun.py</cite><a class="headerlink" href="#specifying-geoclaw-parameters-in-setrun-py" title="Permalink to this heading">¶</a></h1>
<p>Since <a class="reference internal" href="geoclaw.html#geoclaw"><span class="std std-ref">GeoClaw Description and Detailed Contents</span></a> is a modified version of <a class="reference internal" href="amrclaw.html#amrclaw"><span class="std std-ref">AMRClaw Description and Detailed Contents</span></a>,
all of the parameters that
are required for AMRClaw are also needed by GeoClaw.  See
<a class="reference internal" href="setrun_amrclaw.html#setrun-amrclaw"><span class="std std-ref">Specifying AMRClaw run-time parameters in setrun.py</span></a> for a discussion of these, and <a class="reference internal" href="setrun.html#setrun"><span class="std std-ref">Specifying classic run-time parameters in setrun.py</span></a> for a
description of <cite>setrun.py</cite> input scripts more generally.</p>
<p>In addition, a number of other parameters should be set in the <cite>setrun.py</cite>
file in any <a class="reference internal" href="geoclaw.html#geoclaw"><span class="std std-ref">GeoClaw Description and Detailed Contents</span></a> application.
See also the <a class="reference internal" href="geohints.html#geohints"><span class="std std-ref">Cautionary Hints on using GeoClaw</span></a> for more about parameter choices.</p>
<p>It is best to look at a specific example while reading this section, for
example in one of the subdirectories of <cite>$CLAW/geoclaw/examples/tsunami</cite>.</p>
<p>The function <cite>setrun</cite> in this module is essentially the same as for AMRClaw,
except that it expects to be called with <em>claw_pkg = ‘geoclaw’</em>.  This call
should be performed properly by the Makefile if you have <em>CLAW_PKG =
geoclaw</em> set properly there.</p>
<p>The new section <span class="xref std std-ref">setrun_setgeo</span>
in this module contains the new GeoClaw parameters.</p>
<p>A brief summary of these:</p>
<section id="additional-amr-parameters">
<h2>Additional AMR parameters<a class="headerlink" href="#additional-amr-parameters" title="Permalink to this heading">¶</a></h2>
<p>In addition to the standard AMRClaw parameters described in
<a class="reference internal" href="setrun_amrclaw.html#setrun-amrclaw"><span class="std std-ref">Specifying AMRClaw run-time parameters in setrun.py</span></a>, some additional parameters governing how refinement
is done should be specified for GeoClaw applications:</p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.refinement_data.variable_dt_refinement_ratios</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>The default is False, in which case refinement factors in time
are specified by the user as usual in the array
<cite>rundata.amrdata.refinement_ratios_t</cite>.</p>
<p>When True, this indicates that GeoClaw should automatically choose
refinement factors in time on each level based on an estimate of the maximum
wave speed on all grids at this level.  For most hyperbolic problems the CFL
condition suggests that one should refine in time by the same factor as in
space.  However, for GeoClaw applications where fine grids appear only in
shallow coastal regions this may not be the case.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.refinement_data.wave_tolerance</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>Cells are flagged for refinement if the difference between the surface
elevation and sea level is larger than this tolerance.  Note that whether
refinement is actually done depends also on how various AMR regions have
been set (see Section <span class="xref std std-ref">regions</span>) and also on several other
attributes described below that contain information on minimum and
maximum refinement allowed in various regions.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.refinement_data.speed_tolerance</span> <span class="pre">:</span> <span class="pre">list</span></span></dt>
<dd><p>Cells are flagged for refinement at a level if the magnitude of the
velocity is greater than the corresponding value in the list.  For
instance if <cite>rundata.refinement_data.speed_tolerance = [1.0, 2.0, 3.0]</cite>
then cells with a speed of 1.0 would refine to level 2, cells with a
speed of 2.0 would refine to level 3, and cells with a speed of 3.0
would refine to level 4.</p>
</dd></dl>

</section>
<section id="general-geo-parameters">
<span id="setrun-geo"></span><h2>General geo parameters<a class="headerlink" href="#general-geo-parameters" title="Permalink to this heading">¶</a></h2>
<p><cite>rundata.geo_data</cite> has the following additional attributes:</p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.gravity</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>gravitational constant in m/s**2, e.g.  <em>gravity = 9.81</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.coordinate_system</span> <span class="pre">:</span> <span class="pre">integer</span></span></dt>
<dd><p><em>coordinate_system = 1</em> for Cartesian x-y in meters,</p>
<p><em>coordinate_system = 2</em> for latitude-longitude on the sphere.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.earth_radius</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>radius of the earth in meters, e.g.  <em>earth_radius = 6367.5e3</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.coriolis_forcing</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p><em>coriolis_forcing = True</em> to include Coriolis terms in momentum equations</p>
<p><em>coriolis_forcing = False</em> to omit Coriolis terms (usually fine for tsunami modeling)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.sea_level</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>sea level (often <em>sea_level = 0.</em>)
This is relative to the 0 vertical datum of the topography files used.
It is important to set this properly for tsunami applications, see
<a class="reference internal" href="sealevel.html#sealevel"><span class="std std-ref">Setting sea_level</span></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.friction_forcing</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Whether to apply friction source terms in momentum equations.
See <a class="reference internal" href="manning.html#manning"><span class="std std-ref">Manning friction term</span></a> for more discussion of the next three parameters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.friction_depth</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>Friction source terms are only applied in water shallower than this,
i.e. if <cite>h &lt; friction_depth</cite>,
assuming they have negligible effect in deeper water.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.manning_coefficient</span> <span class="pre">:</span> <span class="pre">float</span> <span class="pre">or</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">floats</span></span></dt>
<dd><p>For friction source terms, the Manning coefficient.  If a single value
is given, this value will be used where ever h &lt; friction_depth.
If a list of values is given, then the next parameter delineates the
regions where each is used based on values of the topography B.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.geo_data.manning_break</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">floats</span></span></dt>
<dd><p>If manning_coefficient is a list of length N, then this should be a
monotonically increasing list
of length N-1 giving break points in the topo B used to determine where
each Manning coefficient is used.</p>
<p>For example, if</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">manning_coefficient</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.025</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">]</span>
<span class="n">manning_break</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span>
</pre></div>
</div>
<p>then 0.025 will be used where B&lt;0 and 0.06 used where B&gt;0.
(Subject still to the restriction that no friction is applied
where h &gt;= friction_depth.)</p>
</dd></dl>

</section>
<section id="topography-data-file-parameters">
<span id="setrun-topo"></span><h2>Topography data file parameters<a class="headerlink" href="#topography-data-file-parameters" title="Permalink to this heading">¶</a></h2>
<p>See <a class="reference internal" href="topo.html#topo"><span class="std std-ref">Topography data</span></a> for more information about specifying topography (and
bathymetry) data files in GeoClaw.</p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.topo_data.topofiles</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">lists</span></span></dt>
<dd><p><em>topofiles</em> should be a list of the form <em>[file1info, file2info, etc.]</em>
where each element is itself a list of the form</p>
<blockquote>
<div><p>[topotype, fname]</p>
</div></blockquote>
<p>with values</p>
<blockquote>
<div><blockquote>
<div><p><em>topotype</em> : integer</p>
<blockquote>
<div><p>1,2 or 3 depending on the format of the file (see <a class="reference internal" href="topo.html#topo"><span class="std std-ref">Topography data</span></a>).</p>
</div></blockquote>
<p><em>fname</em> : string</p>
<blockquote>
<div><p>the name of the topo file.</p>
</div></blockquote>
</div></blockquote>
<p><strong>Note:</strong> Starting in v5.8.0 implicitly specifying a flag region for
AMR is no longer supported in the specification of a topo file.
For more about controlling AMR in various regions, see <a class="reference internal" href="flagregions.html#flagregions"><span class="std std-ref">Specifying flagregions for adaptive refinement</span></a>.</p>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.dtopo_data.dtopofiles</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">lists</span></span></dt>
<dd><p>Information about topography displacement files, giving perturbations to
topography generated by an earthquake, for example.</p>
<p><em>dtopofiles</em> should be a list of the form <em>[]</em> or <em>[file1info]</em>
where each element (currently at most 1 is allowed!)
is itself a list of the form</p>
<blockquote>
<div><p>[dtopotype, fname]</p>
</div></blockquote>
<p>with values</p>
<blockquote>
<div><blockquote>
<div><p><em>dtopotype</em> : integer</p>
<blockquote>
<div><p>1 or 3 depending on the format of the file (see <a class="reference internal" href="topo.html#topo-dtopo"><span class="std std-ref">Topography displacement files</span></a>).</p>
</div></blockquote>
<p><em>fname</em> : string</p>
<blockquote>
<div><p>the name of the dtopo file.  See <a class="reference internal" href="topo.html#topo-dtopo"><span class="std std-ref">Topography displacement files</span></a> for information about
the format of data in this file.</p>
</div></blockquote>
</div></blockquote>
<p><strong>Note:</strong> Starting in v5.8.0 implicitly specifying a flag region for
AMR is no longer supported in the specification of a dtopo file.
For more about controlling AMR in various regions, see <a class="reference internal" href="flagregions.html#flagregions"><span class="std std-ref">Specifying flagregions for adaptive refinement</span></a>.</p>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.dtopo_data.dt_max_dtopo</span> <span class="pre">:</span> <span class="pre">float</span></span></dt>
<dd><p>the maximum time step allowed during the time interval over which the
topography is moving.  This is assumed to start at time <cite>t0</cite> and to
extend to the maximum time that any of the dtopo files specified is
active.  This avoids issues where the time step selected by the CFL
condition is much larger than the time scale over which the topography
changes.  You must also set <cite>rundata.clawdata.dt_initial</cite> to the same
value (or smaller) to insure that the first time step is sufficiently small.</p>
</dd></dl>

</section>
<section id="qinit-data-file-parameters">
<span id="setrun-qinit"></span><h2>qinit data file parameters<a class="headerlink" href="#qinit-data-file-parameters" title="Permalink to this heading">¶</a></h2>
<p>A modification to the initial data specified by default can be made as
described at <a class="reference internal" href="topo.html#qinit-file"><span class="std std-ref">qinit data file</span></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.qinit_data.qinit_type</span> <span class="pre">:</span> <span class="pre">integer</span></span></dt>
<dd><p>Specifies what type of perturbation is stored in the <em>qinitfile</em>,
see <a class="reference internal" href="topo.html#qinit-file"><span class="std std-ref">qinit data file</span></a> for more information.  Valid values for <em>qinit_type</em>
are</p>
<blockquote>
<div><ul class="simple">
<li><p>0 = No perturbation specified</p></li>
<li><p>1 = Perturbation to depth <em>h</em></p></li>
<li><p>2 = Perturbation to x-momentum <em>hu</em></p></li>
<li><p>3 = Perturbation to y-momentum <em>hv</em></p></li>
<li><p>4 = Perturbation to surface level</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.qinit_data.qinitfiles</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">lists</span></span></dt>
<dd><p><em>qinitfiles</em> should be a list of the form <em>[]</em> or <em>[file1info]</em>
where each element (currently at most 1 is allowed!)
is itself a list of the form</p>
<blockquote>
<div><p>[fname]</p>
</div></blockquote>
<p>with values</p>
<blockquote>
<div><blockquote>
<div><p><em>fname</em> : string</p>
<blockquote>
<div><p>the name of the qinitdata file.  See <a class="reference internal" href="topo.html#topo"><span class="std std-ref">Topography data</span></a> for information about
the format of data in this file.</p>
</div></blockquote>
</div></blockquote>
<p><strong>Note:</strong> Starting in v5.8.0 implicitly specifying a flag region for
AMR is no longer supported in the specification of a dtopo file.
For more about controlling AMR in various regions, see <a class="reference internal" href="flagregions.html#flagregions"><span class="std std-ref">Specifying flagregions for adaptive refinement</span></a>.</p>
</div></blockquote>
</dd></dl>

<p>See <a class="reference internal" href="topo.html#qinit-file"><span class="std std-ref">qinit data file</span></a> for more details about the format.</p>
</section>
<section id="force-some-cells-to-be-initially-dry">
<h2>Force some cells to be initially dry<a class="headerlink" href="#force-some-cells-to-be-initially-dry" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.qinit_data.force_dry_list:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">`clawpack.geoclaw.data.ForceDry`</span> <span class="pre">objects</span></span></dt>
<dd></dd></dl>

<p>Normally the finite volume cells with topography values below sea level (as
specified by <cite>rundata.geo_data.sea_level</cite>) are initialized as wet, with the
depth of water <cite>h</cite> needed to bring the surface eta to sea level.  If the
computational domain includes regions where there is dry land below sea level
(e.g. behind a dike or levy), then these regions can be specified via this
attribute. See <a class="reference internal" href="force_dry.html#force-dry"><span class="std std-ref">Force Cells to be Dry Initially</span></a>.</p>
</section>
<section id="adjust-sea-level-in-some-regions">
<h2>Adjust sea level in some regions<a class="headerlink" href="#adjust-sea-level-in-some-regions" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.qinit_data.variable_eta_init:</span> <span class="pre">logical</span></span></dt>
<dd></dd></dl>

<p>Normally a single constant value of sea level
(specified by <cite>rundata.geo_data.sea_level</cite>) is used to initialize the
depth of water required to bring the surface eta to sea level.
Sometimes sea level should have different values in different locations,
e.g. for an inland lake with surface level above the ocean level, or in
regions where coseismic uplift or subsidence moves the original water
vertically.  If so, set this attribute to <cite>True</cite> and see <a class="reference internal" href="set_eta_init.html#set-eta-init"><span class="std std-ref">Set Eta Init – spatially varying initial surface elevation</span></a>
for more discussion on how to proceed.</p>
</section>
<section id="amr-refinement-region-parameters">
<span id="setrun-regions"></span><h2>AMR refinement region parameters<a class="headerlink" href="#amr-refinement-region-parameters" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>As in AMRClaw (see <a class="reference internal" href="setrun_amrclaw.html#setrun-amrclaw"><span class="std std-ref">Specifying AMRClaw run-time parameters in setrun.py</span></a>),
one can specify <cite>regions</cite> and/or <cite>flagregions</cite> to control flagging cells
for refinement to the next level.
See <a class="reference internal" href="refinement.html#refinement-regions"><span class="std std-ref">Specifying AMR regions</span></a> and <a class="reference internal" href="flagregions.html#flagregions"><span class="std std-ref">Specifying flagregions for adaptive refinement</span></a> for more details.</p>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.regiondata.regions:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">regions</span></span></dt>
<dd><p>An old style <cite>region</cite> is a list of the form</p>
<blockquote>
<div><p><cite>[minlevel,maxlevel,t1,t2,x1,x2,y1,y2]</cite></p>
</div></blockquote>
<p>See <a class="reference internal" href="refinement.html#refinement-regions"><span class="std std-ref">Specifying AMR regions</span></a> for more details.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.regiondata.flagregions:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">flagregions</span></span></dt>
<dd><p>A new style <cite>flagregion</cite> is an object of class
<cite>clawpack.amrclaw.data.FlagRegion</cite>.
See <a class="reference internal" href="flagregions.html#flagregions"><span class="std std-ref">Specifying flagregions for adaptive refinement</span></a> for more details.</p>
</dd></dl>

</section>
<section id="deprecated-fixedgrid-output-parameters">
<span id="setrun-fixedgrids"></span><h2>Deprecated Fixedgrid output parameters<a class="headerlink" href="#deprecated-fixedgrid-output-parameters" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.fixedgrids</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">lists</span></span></dt>
<dd><p><strong>Removed from GeoClaw as of v5.9.0.</strong>
Use <a class="reference internal" href="#setrun-fgmax"><span class="std std-ref">Fixed grid maximum monitoring / arrival times</span></a> and/or <a class="reference internal" href="#setrun-fgout"><span class="std std-ref">Fixed grid output</span></a> instead,
see below.</p>
</dd></dl>

</section>
<section id="fixed-grid-maximum-monitoring-arrival-times">
<span id="setrun-fgmax"></span><h2>Fixed grid maximum monitoring / arrival times<a class="headerlink" href="#fixed-grid-maximum-monitoring-arrival-times" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.fgmax_grids</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">clawpack.geoclaw.fgmax_tools.FGoutGrid</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">objects.</span></span></dt>
<dd><p>This can be used to specify a set of grids on which to monitor the
maximum flow depth (or other quantities) observed over the course of
the computation, and/or the arrival time of the flow or wave.</p>
<p>The “grids” also do not have to be rectangular grids aligned with the
coordinate directions, but can consist of an arbitrary list of points
that could also be points along a one-dimensional transect or points
following a coastline, for example.</p>
<p>You can set these via e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clawpack.geoclaw</span> <span class="kn">import</span> <span class="n">fgmax_tools</span>
<span class="n">fgmax_grids</span> <span class="o">=</span> <span class="n">rundata</span><span class="o">.</span><span class="n">fgmax_data</span><span class="o">.</span><span class="n">fgmax_grids</span>  <span class="c1"># empty list initially</span>

<span class="n">fgmax</span> <span class="o">=</span> <span class="n">fgmax_tools</span><span class="o">.</span><span class="n">FGmaxGrid</span><span class="p">()</span>
<span class="c1"># set fgmax attributes</span>
<span class="n">fgmax_grids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fgmax</span><span class="p">)</span>    <span class="c1"># written to fgmax_grids.data</span>

<span class="c1"># repeat for additional fgout grids if desired</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="fgmax.html#fgmax"><span class="std std-ref">Fixed grid monitoring (fgmax)</span></a> for more details.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.fgmax_data.num_fgmax_val</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Should take the value 1, 2, or 5 and indicates how many values to monitor.
See <a class="reference internal" href="fgmax.html#fgmax"><span class="std std-ref">Fixed grid monitoring (fgmax)</span></a> for more details.</p>
</dd></dl>

</section>
<section id="fixed-grid-output">
<span id="setrun-fgout"></span><h2>Fixed grid output<a class="headerlink" href="#fixed-grid-output" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.fgout_grids</span> <span class="pre">:</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">clawpack.geoclaw.fgout_tools.FGoutGrid</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">objects.</span></span></dt>
<dd><p>You can set these via e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">clawpack.geoclaw</span> <span class="kn">import</span> <span class="n">fgout_tools</span>
<span class="n">fgout_grids</span> <span class="o">=</span> <span class="n">rundata</span><span class="o">.</span><span class="n">fgout_data</span><span class="o">.</span><span class="n">fgout_grids</span>  <span class="c1"># empty list initially</span>

<span class="n">fgout</span> <span class="o">=</span> <span class="n">fgout_tools</span><span class="o">.</span><span class="n">FGoutGrid</span><span class="p">()</span>
<span class="c1"># set fgout attributes</span>
<span class="n">fgout_grids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fgout</span><span class="p">)</span>    <span class="c1"># written to fgout_grids.data</span>

<span class="c1"># repeat for additional fgout grids if desired</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="fgout.html#fgout"><span class="std std-ref">Fixed grid output (fgout)</span></a> for more details.</p>
</dd></dl>

</section>
<section id="storm-specification-data">
<span id="setrun-surge"></span><h2>Storm Specification Data<a class="headerlink" href="#storm-specification-data" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.wind_forcing</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Includes the wind forcing term if <cite>True</cite>.  The drag coefficient is specified
by <cite>rundata.surge_data.drag_law</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.drag_law</span> <span class="pre">:</span> <span class="pre">integer</span></span></dt>
<dd><p>This specifies how to deterimine the wind drag coefficient.  Valid options
include include <cite>0</cite> implying use no wind drag (effectively eliminates the
wind source term but still computes the wind), <cite>1</cite> uses the Garret wind
drag law, and <cite>2</cite> uses the Powell (2006) wind drag law.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.pressure_forcing</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Includes the pressure forcing term if <cite>True</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.wind_index</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Specifies at what index into the <cite>aux</cite> array the wind velocities are stored.
Note that this is Python indexed in the setrun but will be corrected in the
FORTRAN code (1 is added to the index).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.pressure_index</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Specifies at what index into the <cite>aux</cite> array the wind velocities are stored.
Note that this is Python indexed in the setrun but will be corrected in the
FORTRAN code (1 is added to the index).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.display_landfall_time</span> <span class="pre">:</span> <span class="pre">bool</span></span></dt>
<dd><p>Sets whether the console output displays time relative to land fall in days.
In GeoClaw versions past 5.5 this only deterimines whether the time is
displayed in seconds or days.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.wind_refine</span> <span class="pre">:</span> <span class="pre">list</span></span></dt>
<dd><p>Similar to the <cite>speed_tolerance</cite> data, cells are flagged for refinement at
a level if the magnitude of the wind velocity in m/s is greater than the
corresponding value in the list.  For
instance if <cite>wind_refine = [20.0, 30.0, 40.0]</cite>
then cells with a wind speed of 20.0 would refine to level 2, cells with a
wind speed of 30.0 would refine to level 3, and cells with a wind speed of
40.0 would refine to level 4.  This can also be set to a boolean which if
<cite>False</cite> disables wind based refinement.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.R_refine</span> <span class="pre">:</span> <span class="pre">list</span></span></dt>
<dd><p>Similar to the <cite>wind_refine</cite> data, cells are flagged based on the radial
distance to the storm’s center.  This can also be set to a boolean which if
<cite>False</cite> disables storm radial based refinement.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.storm_specification_type</span> <span class="pre">:</span> <span class="pre">int</span></span></dt>
<dd><p>Specifies the type of storm being used.  Positive options refer to a
parameterized storm model where as negative integers refer to fully
specified storms, for instance from HWRF, to be specified.</p>
<p>Valid options</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>-1</cite>: The input data is specified in the HWRF format.</p></li>
<li><p><cite>0</cite>: No storm specified</p></li>
<li><p><cite>1</cite>: Parameterized storm requested using the Holland 1980 modeled storm.</p></li>
<li><p><cite>2</cite>: Parameterized storm requested using the Holland 2010 modeled storm.</p></li>
<li><p><cite>3</cite>: Parameterized storm requested using the Chava, Lin, Emmanuel modeled
storm.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rundata.surge_data.storm_file</span> <span class="pre">:</span> <span class="pre">string</span></span></dt>
<dd><p>Specifies the path to the storm data.  IF <cite>storm_specification_type &gt; 0</cite> then
this should point to a GeoClaw formatted storm file (see <a class="reference internal" href="storm_module.html#storm-module"><span class="std std-ref">Storm Specification Class and Tools</span></a> for
details).  If <cite>storm_specification &lt; 0</cite> then this should either specify a path
to files specifying the storm or a single file depending on the type of input
data.</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p><a href="http://clawpack.org/">
    <img class="logo" src= "_static/clawlogo.jpg" alt="Logo"/>
</a>
<h2>Version 5.11.x</h2>
</p>
  <div>
    <h3><a href="contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Specifying GeoClaw parameters in <cite>setrun.py</cite></a><ul>
<li><a class="reference internal" href="#additional-amr-parameters">Additional AMR parameters</a></li>
<li><a class="reference internal" href="#general-geo-parameters">General geo parameters</a></li>
<li><a class="reference internal" href="#topography-data-file-parameters">Topography data file parameters</a></li>
<li><a class="reference internal" href="#qinit-data-file-parameters">qinit data file parameters</a></li>
<li><a class="reference internal" href="#force-some-cells-to-be-initially-dry">Force some cells to be initially dry</a></li>
<li><a class="reference internal" href="#adjust-sea-level-in-some-regions">Adjust sea level in some regions</a></li>
<li><a class="reference internal" href="#amr-refinement-region-parameters">AMR refinement region parameters</a></li>
<li><a class="reference internal" href="#deprecated-fixedgrid-output-parameters">Deprecated Fixedgrid output parameters</a></li>
<li><a class="reference internal" href="#fixed-grid-maximum-monitoring-arrival-times">Fixed grid maximum monitoring / arrival times</a></li>
<li><a class="reference internal" href="#fixed-grid-output">Fixed grid output</a></li>
<li><a class="reference internal" href="#storm-specification-data">Storm Specification Data</a></li>
</ul>
</li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
  <li><a href="geoclaw.html">GeoClaw Description and Detailed Contents</a><ul>
      <li>Previous: <a href="kmltools_module.html" title="previous chapter">kmltools module of utility functions</a></li>
      <li>Next: <a href="plotting_geoclaw.html" title="next chapter">Plotting routines for GeoClaw</a></li>
  </ul></li>
  </ul></li>
</ul>
<div class="widget navlinks">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/setrun_geoclaw.rst.txt"
            rel="nofollow"
            target="_blank">Source .rst</a></li>
    <li><a href="https://github.com/clawpack/doc/blob/dev/doc/setrun_geoclaw.rst"
            rel="nofollow"
            target="_blank">Source on GitHub</a></li>
     <li><a href="https://github.com/clawpack/doc/commits/dev/doc/setrun_geoclaw.rst"
             rel="nofollow"
             target="_blank">History</a></li>
    <li><a href="https://github.com/clawpack/doc/edit/dev/doc/setrun_geoclaw.rst"
            rel="nofollow"
            target="_blank">Suggest Edits</a></li>
     <li><a href="https://github.com/clawpack/doc/issues/new/choose"
             rel="nofollow"
             target="_blank">Raise an Issue</a></li>
  </ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
<h4>Latest Version</h4>
<ul>
  <li><a href="../dev/setrun_geoclaw.html">dev</a></li>
  <li><a href="setrun_geoclaw.html">v5.11.x</a></li>
</ul>
<h4>Older Versions</h4>
<ul>
  <li><a href="../v5.10.x/setrun_geoclaw.html">v5.10.x</a></li>
  <li><a href="../v5.7.x/setrun_geoclaw.html">v5.7.x</a></li>
  <li><a href="../v5.8.x/setrun_geoclaw.html">v5.8.x</a></li>
  <li><a href="../v5.9.x/setrun_geoclaw.html">v5.9.x</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright CC-BY 2024, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44811544-1', 'auto');
  ga('send', 'pageview');

  </script>
  
  </body>
</html>