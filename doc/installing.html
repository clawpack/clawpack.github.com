
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation instructions &mdash; Clawpack 5.0.0rc-alpha documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/layout.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '5.0.0rc-alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Clawpack 5.0.0rc-alpha documentation" href="index.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="About this software" href="about.html" /> 
  </head>
  <body>
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <center><h1><a href="index.html">Clawpack 5</a></h1></center>
    <nav>
      <ul>
        <li>
          <a href="toc_condensed.html">Docs</a>
        </li>
        <li>
          <a href="#">Install</a>
        </li>
        <li>
          <a class="" href="galleries.html">Gallery</a>
        </li>
        <li>
          <a class="active" href="https://groups.google.com/forum/#!forum/claw-users">Support</a>
        </li>
        <li>
          <a class="active" href="http://github.com/organizations/clawpack">Source</a>
        </li>
        <li>
          <a class="" href="developers.html">Develop</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="license.html" title="License"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="about.html" title="About this software"
             accesskey="P">previous</a> |</li>
        <li><a href="contents.html">Clawpack 5.0.0rc-alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installation-instructions">
<span id="installing"></span><h1>Installation instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="simple-install-install-pyclaw-and-visclaw-only">
<h2>Simple install (install PyClaw and VisClaw only)<a class="headerlink" href="#simple-install-install-pyclaw-and-visclaw-only" title="Permalink to this headline">¶</a></h2>
<p>If you will only use PyClaw, everything is handled by pip:</p>
<div class="highlight-python"><pre>pip install clawpack</pre>
</div>
<p>Do not use this if you intend to run Classic, AMRClaw, or GeoClaw (see next section).</p>
</div>
<div class="section" id="full-install-install-all-packages">
<h2>Full install (install all packages)<a class="headerlink" href="#full-install-install-all-packages" title="Permalink to this headline">¶</a></h2>
<p>First:</p>
<div class="highlight-python"><pre>wget https://github.com/clawpack/clawpack/releases/download/5.0.0rc-alpha/clawpack-rc-alpha.tar.gz
tar -xzvf clawpack-rc-alpha.tar.gz
cd clawpack
python setup.py install</pre>
</div>
<p>If you do not wish to compile the PyClaw source, replace the last line above by:</p>
<div class="highlight-python"><pre>python setup.py no-pyclaw</pre>
</div>
<p>This installs Classic, AMRClaw, GeoClaw, and PyClaw.
If you will use Classic/AMRClaw/GeoClaw, you must also <a class="reference internal" href="#setenv"><em>Set environment variables</em></a>.</p>
</div>
<div class="section" id="running-an-example">
<span id="first-run"></span><span id="install-pyclaw"></span><h2>Running an example<a class="headerlink" href="#running-an-example" title="Permalink to this headline">¶</a></h2>
<p>Many examples of Clawpack simulations can be seen in the <a class="reference internal" href="galleries.html#galleries"><em>Galleries of all Clawpack applications</em></a>.</p>
<p><strong>Using PyClaw.</strong> To run an example and plot the results using PyClaw, simply do the following
(starting from your <cite>clawpack</cite> directory):</p>
<div class="highlight-python"><pre>cd pyclaw/examples/euler_2d
python shock_bubble_interaction.py iplot=1</pre>
</div>
<p>That&#8217;s it.  For next steps with PyClaw, see <a class="reference internal" href="pyclaw/basics.html#basics"><em>PyClaw Basics</em></a>.</p>
<p><strong>Using Classic.</strong>
First ensure that you have <a class="reference internal" href="#setenv"><em>Set environment variables</em></a>.
A simple 1-dimensional acoustics equations can be solved
using the code in <cite>$CLAW/classic/examples/acoustics_1d_example1</cite>, as
illustrated in <a class="reference internal" href="gallery/gallery_classic_amrclaw.html#gallery-classic-amrclaw"><em>Gallery of Classic and AMRClaw applications</em></a>.</p>
<p>Move to this directory via:</p>
<div class="highlight-python"><pre>cd $CLAW/classic/examples/acoustics_1d_example1</pre>
</div>
<p>You can try the following test in this directory, or you may want to first
make a copy of it (see the instructions in <a class="reference internal" href="newapp.html#copyex"><em>Copying an existing example</em></a>).</p>
<p>The Makefiles are set up to do dependency checking so that in many
application directories you can simply type:</p>
<div class="highlight-python"><pre>$ make .plots</pre>
</div>
<p>and the Fortran code will be compiled, data files created, the code
run, and the results plotted automatically, resulting in a set of webpages
showing the results.</p>
<p>However, if this is your first attempt to run a code, it is useful to go
through these steps one at a time, both to understand the steps and so that
any problems with your installation can be properly identified.</p>
<p>You might want to start by examining the Makefile.  This sets a number of
variables, which at some point you might need to modify for other examples,
see <a class="reference internal" href="makefiles.html#makefiles"><em>Clawpack Makefiles</em></a> for more about this.  At the bottom of the Makefile is
an <cite>include</cite> statement that points to a common Makefile that is used by most
applications, and where all the details of the make process can be found.</p>
<p>To compile the code, type:</p>
<div class="highlight-python"><pre>$ make .exe</pre>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makeexe"><em>Trouble running &#8220;make .exe&#8221;</em></a>.</p>
<p>This should compile the example code (after first compiling the required
library routines) and produce an executable named <cite>xclaw</cite> in this directory.</p>
<p>Before running the code, it is necessary to also create a set of data files
that are read in by the Fortran code.  This can be done via:</p>
<div class="highlight-python"><pre>$ make .data</pre>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makedata"><em>Trouble running &#8220;make .data&#8221;</em></a>.</p>
<p>This uses the Python code in <cite>setrun.py</cite> to create data files that have the
form <cite>*.data</cite>.</p>
<p>Once the executable and the data files all exist, we can run the code.  The
recommended way to do this is to type:</p>
<div class="highlight-python"><pre>$ make .output</pre>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makeoutput"><em>Trouble running &#8220;make .output&#8221;</em></a>.</p>
<p>Before running the code a subdirectory <cite>_output</cite> is created
and the output of the code (often a large number of files) is directed to
this subdirectory.  This is convenient if you want to do several runs with
different parameter values and keep the results organized.  After the code
has run you can rename the subdirectory, or you can modify the variable
<cite>OUTDIR</cite> in the Makefile to direct results to a different directory.  See
<a class="reference internal" href="makefiles.html#makefiles"><em>Clawpack Makefiles</em></a> for more details.  Copies of all the data files are also
placed in the output directory for future reference.</p>
<p><strong>Plotting the results.</strong>
Once the code has run and the files listed above have been created, there are several
options for plotting the results.</p>
<p>To try the Python tools, type:</p>
<div class="highlight-python"><pre>$ make .plots</pre>
</div>
<p>If this gives an error, see <a class="reference internal" href="trouble.html#trouble-makeplots"><em>Trouble running &#8220;make .plots&#8221;</em></a>.</p>
<p>If this works, it will create a subdirectory named <cite>_plots</cite> that contains a number of
image files (the <cite>*.png</cite> files) and a set of html files that can be used to view the
results from a web browser.  See <em class="xref std std-ref">plotting_makeplots</em> for more details.</p>
<p>An alternative is to view the plots from an interactive Python session, as described in
the section <a class="reference internal" href="plotting_python.html#plotting-iplotclaw"><em>Interactive plotting with Iplotclaw</em></a>.</p>
<p>If you wish to use Matlab instead, see <a class="reference internal" href="matlab_plotting.html#matlabplots"><em>Plotting using Matlab</em></a>.</p>
<p>Other visualization packages could also be used to display the results, but you will need
to figure out how to read in the data.  See <em class="xref std std-ref">fortfiles</em> for information about the
format of the files produced by Clawpack.</p>
</div>
<div class="section" id="alternative-ways-of-running-clawpack">
<h2>Alternative ways of running Clawpack<a class="headerlink" href="#alternative-ways-of-running-clawpack" title="Permalink to this headline">¶</a></h2>
<p><strong>Virtual Machine.</strong>
An alternative to installing the prerequisites and Clawpack itself is to use the
<a class="reference internal" href="vm.html#vm"><em>Clawpack Virtual Machine</em></a>.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Operating system:</strong></dt>
<dd><ul class="first last simple">
<li>Linux</li>
<li>Mac OS X (you need to have the <a class="reference external" href="http://developer.apple.com/technologies/tools/xcode.html">Xcode developer tools</a> installed in
order to have &#8220;make&#8221; working)</li>
</ul>
</dd>
</dl>
<p>Much of Clawpack will work under Windows using Cygwin, but this is not officially
supported.</p>
<dl class="docutils">
<dt><strong>Fortran:</strong></dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://gcc.gnu.org/wiki/GFortran">gfortran</a> or another F90 compiler</li>
</ul>
</dd>
</dl>
<p>See <a class="reference internal" href="fortran_compilers.html#fortran-compilers"><em>Fortran Compilers</em></a> for more about which compilers work well with
Clawpack.
For Mac OSX, see <a class="reference external" href="http://hpc.sourceforge.net/">hpc.sourceforge.net</a> for
some installation options.</p>
<dl class="docutils">
<dt><strong>Python:</strong></dt>
<dd><ul class="first last simple">
<li>Python Version 2.5 or above (but <strong>not</strong> 3.0 or above, which is not backwards compatible)</li>
<li><a class="reference external" href="http://www.numpy.org/">NumPy</a>  (for PyClaw/VisClaw)</li>
<li><a class="reference external" href="http://matplotlib.org/">matplotlib</a> (for PyClaw/VisClaw)</li>
</ul>
</dd>
</dl>
<p>See <a class="reference internal" href="python.html#python"><em>Python Hints</em></a> for information on
installing the required modules and to get started using Python if
you are not familiar with it.</p>
</div>
<div class="section" id="developer-install">
<span id="install-from-git"></span><h2>Developer install<a class="headerlink" href="#developer-install" title="Permalink to this headline">¶</a></h2>
<p>Clawpack 5.0 can be obtained by cloning a number of repositories
from <a class="reference external" href="https://github.com/clawpack">https://github.com/clawpack</a>.  This is advised
for those who want to help
develop Clawpack or to have the most recent bleeding edge version.
See <a class="reference internal" href="developers.html#developers-gitclone"><em>Cloning the most recent code from Github</em></a>  and <a class="reference internal" href="developers.html#setup-dev"><em>Installation instructions for developers</em></a> for instructions.</p>
</div>
<div class="section" id="set-environment-variables">
<span id="setenv"></span><h2>Set environment variables<a class="headerlink" href="#set-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>To use the Fortran versions of Clawpack you will need to set the
environment variable <cite>CLAW</cite> to point to the top level of clawpack tree
(there is no need to perform this step if you will only use PyClaw).
In the bash shell these can be set via:</p>
<div class="highlight-python"><pre>export CLAW=/full/path/to/top/level</pre>
</div>
<p>You also need to set <cite>FC</cite> to point to the desired Fortran compiler,
e.g.:</p>
<div class="highlight-python"><pre>export FC=gfortran   # or other preferred Fortran compiler</pre>
</div>
<p>Consider putting the two commands above in a file that is executed every
time you open a new shell or terminal window.  On Linux machines
with the bash shell this is generally the file <cite>.bashrc</cite> in your home
directory.  On a Mac it may be called <cite>.bash_profile</cite>.</p>
<p>If your environment variable <cite>CLAW</cite> is properly set, the command</p>
<div class="highlight-python"><pre>ls $CLAW</pre>
</div>
<p>should list the top level directory, and report for example:</p>
<div class="highlight-python"><pre>README.md       riemann/        pyclaw/
amrclaw/        setup.py        clawutil/
geoclaw/        visclaw/        classic/</pre>
</div>
</div>
<div class="section" id="testing-your-installation">
<span id="first-test"></span><h2>Testing your installation<a class="headerlink" href="#testing-your-installation" title="Permalink to this headline">¶</a></h2>
<p><strong>PyClaw.</strong>
To run the PyClaw tests, starting from your <cite>clawpack</cite> directory:</p>
<div class="highlight-python"><pre>cd pyclaw
nosetests</pre>
</div>
<p>This should return &#8216;OK&#8217;.</p>
<p><strong>Classic.</strong>
As a first test of the Fortran code, try the following:</p>
<div class="highlight-python"><pre>cd $CLAW/classic/tests
make tests</pre>
</div>
<p>This will run several tests and compare a few numbers from the solution with
archived results.  The tests should run in a few seconds.</p>
<p>There are similar <cite>tests</cite> subdirectories of <cite>$CLAW/amrclaw</cite> and
<cite>$CLAW/geoclaw</cite> to do quick tests of these codes.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/clawlogo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation instructions</a><ul>
<li><a class="reference internal" href="#simple-install-install-pyclaw-and-visclaw-only">Simple install (install PyClaw and VisClaw only)</a></li>
<li><a class="reference internal" href="#full-install-install-all-packages">Full install (install all packages)</a></li>
<li><a class="reference internal" href="#running-an-example">Running an example</a></li>
<li><a class="reference internal" href="#alternative-ways-of-running-clawpack">Alternative ways of running Clawpack</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#developer-install">Developer install</a></li>
<li><a class="reference internal" href="#set-environment-variables">Set environment variables</a></li>
<li><a class="reference internal" href="#testing-your-installation">Testing your installation</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
      <li>Previous: <a href="about.html" title="previous chapter">About this software</a></li>
      <li>Next: <a href="license.html" title="next chapter">License</a></li>
  </ul></li>
</ul>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/installing.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2013, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  
  </body>
</html>