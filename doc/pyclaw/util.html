

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Pyclaw Utility Module &mdash; PyClaw v0.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="/Users/ketch/Software/jsmath/easy/load.js"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="PyClaw v0.1 documentation" href="index.html" />
    <link rel="next" title="Riemann Solver Package" href="rp.html" />
    <link rel="prev" title="Pyclaw Solutions" href="solution.html" /> 
  </head>
  <body>

<div style="background-color: #FFFFE8; text-align: left; padding: 10px 10px 15px 15px">
<table>
<tr>
<!--
<td>
&nbsp;
<br>
<a href="http://www.clawpack.org/"><img src="_static/clawlogo.jpg" border="0" alt="Clawpack logo"/></a>
</td>
-->
<td>
<br>
&nbsp;
<br>
<a href
<font size="7"  color="#7F0000"> PyClaw Documentation</font>
<br>
&nbsp;
<br>
</td>
</tr>
</table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rp.html" title="Riemann Solver Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="solution.html" title="Pyclaw Solutions"
             accesskey="P">previous</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="gallery/gallery_all.html.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>
<li><a href="index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/clawlogo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pyclaw Utility Module</a><ul>
<li><a class="reference internal" href="#module-pyclaw.util"><tt class="docutils literal"><span class="pre">pyclaw.util</span></tt></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="solution.html"
                        title="previous chapter">Pyclaw Solutions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="rp.html"
                        title="next chapter">Riemann Solver Package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/util.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <blockquote>
<div></div></blockquote>
<div class="section" id="pyclaw-utility-module">
<span id="pyclaw-util"></span><h1>Pyclaw Utility Module<a class="headerlink" href="#pyclaw-utility-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pyclaw.util">
<span id="id1"></span><h2><a class="reference internal" href="#module-pyclaw.util" title="pyclaw.util"><tt class="xref py py-mod docutils literal"><span class="pre">pyclaw.util</span></tt></a><a class="headerlink" href="#module-pyclaw.util" title="Permalink to this headline">¶</a></h2>
<p>Pyclaw utility methods</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Authors:</th><td class="field-body"><p class="first">Kyle T. Mandli (2008-08-07) Initial version</p>
<p>Randall J. LeVeque (2009-01-01) Added svn revision</p>
<p class="last">Kyle T. Mandli (2009-03-01) Added topo file utilities</p>
</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pyclaw.util.FrameCounter">
<em class="property">class </em><tt class="descclassname">pyclaw.util.</tt><tt class="descname">FrameCounter</tt><a class="reference internal" href="_modules/pyclaw/util.html#FrameCounter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.FrameCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple frame counter</p>
<p>Simple frame counter to keep track of current frame number.  This can
also be used to keep multiple runs frames seperated by having multiple 
counters at once.</p>
<p>Initializes to 0</p>
<dl class="method">
<dt id="pyclaw.util.FrameCounter.get_counter">
<tt class="descname">get_counter</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#FrameCounter.get_counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.FrameCounter.get_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current frame number</p>
</dd></dl>

<dl class="method">
<dt id="pyclaw.util.FrameCounter.increment">
<tt class="descname">increment</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#FrameCounter.increment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.FrameCounter.increment" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the counter by one</p>
</dd></dl>

<dl class="method">
<dt id="pyclaw.util.FrameCounter.reset_counter">
<tt class="descname">reset_counter</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#FrameCounter.reset_counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.FrameCounter.reset_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the counter to 0</p>
</dd></dl>

<dl class="method">
<dt id="pyclaw.util.FrameCounter.set_counter">
<tt class="descname">set_counter</tt><big>(</big><em>new_frame_num</em><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#FrameCounter.set_counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.FrameCounter.set_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the counter to new_frame_num</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyclaw.util.compile_library">
<tt class="descclassname">pyclaw.util.</tt><tt class="descname">compile_library</tt><big>(</big><em>source_list</em>, <em>module_name</em>, <em>interface_functions=</em><span class="optional">[</span><span class="optional">]</span>, <em>local_path='./'</em>, <em>library_path='./'</em>, <em>f2py_flags=''</em>, <em>FC=None</em>, <em>FFLAGS=None</em>, <em>recompile=False</em>, <em>clean=False</em><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#compile_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.compile_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles and wraps fortran source into a callable module in python.</p>
<p>This function uses f2py to create an interface from python to the fortran
sources in source_list.  The source_list can either be a list of names
of source files in which case compile_library will search for the file in
local_path and then in library_path.  If a path is given, the file will be
checked to see if it exists, if not it will look for the file in the above
resolution order.  If any source file is not found, an IOException is
raised.</p>
<p>The list interface_functions allows the user to specify which fortran 
functions are actually available to python.  The interface functions are
assumed to be in the file with their name, i.e. claw1 is located in
&#8216;claw1.f95&#8217; or &#8216;claw1.f&#8217;.</p>
<p>The interface from fortran may be different than the original function
call in fortran so the user should make sure to check the automatically 
created doc string for the fortran module for proper use.</p>
<p>Source files will not be recompiled if they have not been changed.</p>
<p>One set of options of note is for enabling OpenMP, it requires the usual
fortran flags but the OpenMP library also must be compiled in, this is
done with the flag -lgomp.  The call to compile_library would then be:</p>
<p>compile_library(src,module_name,f2py_flags=&#8217;-lgomp&#8217;,FFLAGS=&#8217;-fopenmp&#8217;)</p>
<p>For complete optimization use:</p>
<p>FFLAGS=&#8217;-O3 -fopenmp -funroll-loops -finline-functions -fdefault-real-8&#8217;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Input :</th><td class="field-body"><ul class="first last simple">
<li><em>source_list</em> - (list of strings) List of source files, if these are 
just names of the source files, i.e. &#8216;bc1.f&#8217; then they will be searched
for in the default source resolution order, if an explicit path is 
given, i.e. &#8216;./bc1.f&#8217;, then the function will use that source if it can
find it.</li>
<li><em>module_name</em> - (string) Name of the resulting module</li>
<li><em>interface_functions</em> - (list of strings) List of function names to 
provide access to, if empty, all functions are accessible to python.  
Defaults to [].</li>
<li><em>local_path</em> - (string) The base path for source resolution, defaults 
to &#8216;./&#8217;.</li>
<li><em>library_path</em> - (string) The library path for source resolution, 
defaults to &#8216;./&#8217;.</li>
<li><em>f2py_flags</em> - (string) f2py flags to be passed</li>
<li><em>FC</em> - (string) Override the environment variable FC and use it to 
compile, note that this does not replace the compiler that f2py uses, 
only the object file compilation (functions that do not have 
interfaces)</li>
<li><em>FFLAGS</em> - (string) Override the environment variable FFLAGS and pass 
them to the fortran compiler</li>
<li><em>recompile</em> - (bool) Force recompilation of the library, defaults to 
False</li>
<li><em>clean</em> - (bool) Force a clean build of all source files</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyclaw.util.construct_function_handle">
<tt class="descclassname">pyclaw.util.</tt><tt class="descname">construct_function_handle</tt><big>(</big><em>path</em>, <em>function_name=None</em><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#construct_function_handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.construct_function_handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a function handle from the file at path.</p>
<p>This function will attempt to construct a function handle from the python
file at path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Input :</th><td class="field-body"><ul class="first simple">
<li><em>path</em> - (string) Path to the file containing the function</li>
<li><em>function_name</em> - (string) Name of the function defined in the file 
that the handle will point to.  Defaults to the same name as the file 
without the extension.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Output :</th><td class="field-body"><ul class="first last simple">
<li>(func) Function handle to the constructed function, None if this has
failed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyclaw.util.convert_fort_double_to_float">
<tt class="descclassname">pyclaw.util.</tt><tt class="descname">convert_fort_double_to_float</tt><big>(</big><em>number</em><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#convert_fort_double_to_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.convert_fort_double_to_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a fortran format double to a float</p>
<p>Converts a fortran format double to a python float.</p>
<p>number: is a string representation of the double.  Number should 
be of the form &#8220;1.0d0&#8221;</p>
</dd></dl>

<dl class="function">
<dt id="pyclaw.util.read_data_line">
<tt class="descclassname">pyclaw.util.</tt><tt class="descname">read_data_line</tt><big>(</big><em>inputfile</em>, <em>num_entries=1</em>, <em>type='float'</em><big>)</big><a class="reference internal" href="_modules/pyclaw/util.html#read_data_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.util.read_data_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data a single line from an input file</p>
<p>Reads one line from an input file and returns an array of values</p>
<p>inputfile: a file pointer to an open file object
num_entries: number of entries that should be read, defaults to only 1
type: Type of the values to be read in, they all most be the same type</p>
<p>This function will return either a single value or an array of values
depending on if num_entries &gt; 1</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rp.html" title="Riemann Solver Package"
             >next</a> |</li>
        <li class="right" >
          <a href="solution.html" title="Pyclaw Solutions"
             >previous</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="gallery/gallery_all.html.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>
<li><a href="index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, Kyle Mandli, David I. Ketcheson, Amal Alghamdi, and Aron Ahmadia.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>