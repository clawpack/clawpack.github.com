

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Pyclaw Solver Base Classes &mdash; PyClaw v0.1 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/jsmath/easy/load.js"></script>
    <link rel="shortcut icon" href="../../../_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="top" title="PyClaw v0.1 documentation" href="../../../index.html" /> 
  </head>
  <body>

<div style="background-color: #FFFFE8; text-align: left; padding: 10px 10px 15px 15px">
<table>
<tr>
<!--
<td>
&nbsp;
<br>
<a href="http://www.clawpack.org/"><img src="../../../_static/clawlogo.jpg" border="0" alt="Clawpack logo"/></a>
</td>
-->
<td>
<br>
&nbsp;
<br>
<a href
<font size="7"  color="#7F0000"> PyClaw Documentation</font>
<br>
&nbsp;
<br>
</td>
</tr>
</table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="../../../apps.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>
<li><a href="../../../index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/clawlogo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pyclaw Solver Base Classes</a><ul>
<li><a class="reference internal" href="#module-pyclaw.evolve.solver"><tt class="docutils literal"><span class="pre">pyclaw.evolve.solver</span></tt></a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/sphinx/pyclaw/evolve/solver.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pyclaw-solver-base-classes">
<span id="pyclaw-solver"></span><h1>Pyclaw Solver Base Classes<a class="headerlink" href="#pyclaw-solver-base-classes" title="Permalink to this headline">¶</a></h1>
<p>The solver module provides a template for a solver that Pyclaw knows how to
interact with.  It is expected that a subclass will override the class method
<tt class="xref py py-meth docutils literal"><span class="pre">step()</span></tt> in order to provide a complete solver.</p>
<p>The main method of interest defined in this module is the
<tt class="xref py py-meth docutils literal"><span class="pre">evolve_to_time()</span></tt> method which evolves the solutions given to the end
time provided.  Details of how this works can be found below.</p>
<div class="section" id="module-pyclaw.evolve.solver">
<span id="pyclaw-evolve-solver"></span><h2><a class="reference internal" href="#module-pyclaw.evolve.solver" title="pyclaw.evolve.solver"><tt class="xref py py-mod docutils literal"><span class="pre">pyclaw.evolve.solver</span></tt></a><a class="headerlink" href="#module-pyclaw.evolve.solver" title="Permalink to this headline">¶</a></h2>
<p>Module specifying the interface to every solver in pyclaw.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Authors:</th><td class="field-body">Kyle T. Mandli (2008-08-19) Initial version</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pyclaw.evolve.solver.Solver">
<em class="property">class </em><tt class="descclassname">pyclaw.evolve.solver.</tt><tt class="descname">Solver</tt><big>(</big><em>data=None</em><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver" title="Permalink to this definition">¶</a></dt>
<dd><p>Pyclaw solver superclass</p>
<p>All solvers should inherit from this object as it defines the interface 
that the Pyclaw expects for solvers.  This mainly means the evolve_to_time
exists and the solver can be initialized and called correctly.</p>
<dl class="attribute">
<dt id="pyclaw.evolve.solver.Solver.dt">
<tt class="descname">dt</tt><a class="headerlink" href="#pyclaw.evolve.solver.Solver.dt" title="Permalink to this definition">¶</a></dt>
<dd><p>Current time step, <tt class="docutils literal"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">0.1</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyclaw.evolve.solver.Solver.cfl">
<tt class="descname">cfl</tt><a class="headerlink" href="#pyclaw.evolve.solver.Solver.cfl" title="Permalink to this definition">¶</a></dt>
<dd><p>Current Courant/Freidrichs/Levy number, <tt class="docutils literal"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">1.0</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyclaw.evolve.solver.Solver.status">
<tt class="descname">status</tt><a class="headerlink" href="#pyclaw.evolve.solver.Solver.status" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Dictionary of status values for the solver with the following keys:</dt>
<dd><ul class="first last simple">
<li><tt class="docutils literal"><span class="pre">cflmax</span></tt> = Maximum CFL condition reached</li>
<li><tt class="docutils literal"><span class="pre">dtmin</span></tt> = Minimum time step taken</li>
<li><tt class="docutils literal"><span class="pre">dtmax</span></tt> = Maximum time step taken</li>
<li><tt class="docutils literal"><span class="pre">numsteps</span></tt> = Current number of time steps that have been taken</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pyclaw.evolve.solver.Solver.dt_variable">
<tt class="descname">dt_variable</tt><a class="headerlink" href="#pyclaw.evolve.solver.Solver.dt_variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to allow the time step to vary, <tt class="docutils literal"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">True</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyclaw.evolve.solver.Solver.max_steps">
<tt class="descname">max_steps</tt><a class="headerlink" href="#pyclaw.evolve.solver.Solver.max_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of time steps allowd to reach the end time 
requested, <tt class="docutils literal"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">1000</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pyclaw.evolve.solver.Solver.times">
<tt class="descname">times</tt><a class="headerlink" href="#pyclaw.evolve.solver.Solver.times" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of run times taken by the solver, each request to evolve a 
solution to a new time a new timing is appended to this list.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyclaw.evolve.solver.Solver.logger">
<tt class="descname">logger</tt><a class="headerlink" href="#pyclaw.evolve.solver.Solver.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Default logger for all solvers</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2">Initialization :</th></tr>
<tr><td>&nbsp;</td><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Input:</dt>
<dd><ul class="first last simple">
<li><em>data</em> - (<tt class="xref py py-class docutils literal"><span class="pre">Data</span></tt>) Data object to initialize the solver with</li>
</ul>
</dd>
<dt>Output:</dt>
<dd><ul class="first last simple">
<li>(<a class="reference internal" href="#pyclaw.evolve.solver.Solver" title="pyclaw.evolve.solver.Solver"><tt class="xref py py-class docutils literal"><span class="pre">Solver</span></tt></a>) - Initialized Solver object</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Version :</th><td class="field-body">1.0 (2008-08-19)</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.append_ghost_cells">
<tt class="descname">append_ghost_cells</tt><big>(</big><em>grid</em>, <em>state</em>, <em>q</em><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.append_ghost_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.append_ghost_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns q with ghost cells attached.  For Solver, this means
just creating a copy of q with extra cells.</p>
<p>The argument &#8216;state&#8217; is not used here; it is passed only in order
to have a common interface for the petclaw and pyclaw versions of
this function.</p>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.communicateCFL">
<tt class="descname">communicateCFL</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.communicateCFL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.communicateCFL" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy function, only here for PetClaw to override.</p>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.evolve_to_time">
<tt class="descname">evolve_to_time</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.evolve_to_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.evolve_to_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Evolve solutions[&#8216;n&#8217;] to tend</p>
<p>This method contains the machinery to evolve the solution object in
<tt class="docutils literal"><span class="pre">solutions['n']</span></tt> to the requested end time tend if given, or one 
step if not.  The solutions dictionary is provided as a generic 
interface to multistep methods that may require more than one solution
at multiple times to evolve where it is understood that the solution 
at <tt class="docutils literal"><span class="pre">solutions['n']</span></tt> is the solution at the current time step that is
to be evolved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Input :</th><td class="field-body"><ul class="first simple">
<li><em>solutions</em> - (<tt class="xref py py-class docutils literal"><span class="pre">Solution</span></tt>) Dictionary of Solutions to be 
evolved</li>
<li><em>tend</em> - (float) The end time to evolve to, if not provided then 
the method will take a single time step.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Output :</th><td class="field-body"><ul class="first last simple">
<li>(dict) - Returns the status dictionary of the solver</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.is_valid">
<tt class="descname">is_valid</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.is_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that all required attributes are set</p>
<p>Checks to make sure that all the required attributes for the solver 
have been set correctly.  All required attributes that need to be set 
are contained in the attributes list of the class.</p>
<p>Will post debug level logging message of which required attributes 
have not been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Output :</th><td class="field-body"><ul class="first last simple">
<li><em>valid</em> - (bool) True if the solver is valid, False otherwise</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.qbc">
<tt class="descname">qbc</tt><big>(</big><em>grid</em>, <em>state</em><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.qbc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.qbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends boundary cells to q and fills them with appropriate values.</p>
<p>This function returns an array of dimension determined by the 
<tt class="xref py py-attr docutils literal"><span class="pre">mbc</span></tt> attribute.  The type of boundary condition set is 
determined by <tt class="xref py py-attr docutils literal"><span class="pre">mthbc_lower</span></tt> and <tt class="xref py py-attr docutils literal"><span class="pre">mthbc_upper</span></tt> for the 
approprate dimension.  Valid values for <tt class="xref py py-attr docutils literal"><span class="pre">mthbc_lower</span></tt> and 
<tt class="xref py py-attr docutils literal"><span class="pre">mthbc_upper</span></tt> include:</p>
<ol class="arabic simple" start="0">
<li>A user defined boundary condition will be used, the appropriate 
Dimension method user_bc_lower or user_bc_upper will be called</li>
<li>Zero-order extrapolation</li>
<li>Periodic boundary conditions</li>
<li>Wall boundary conditions, it is assumed that the second equation
represents velocity or momentum</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Output :</th><td class="field-body"><ul class="first last simple">
<li>(ndarray(...,meqn)) q array with boundary ghost cells added and set</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that for user defined boundary conditions, the array sent to
the boundary condition has not been rolled.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.qbc_lower">
<tt class="descname">qbc_lower</tt><big>(</big><em>grid</em>, <em>dim</em>, <em>t</em>, <em>qbc</em><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.qbc_lower"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.qbc_lower" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply lower boundary conditions to qbc</p>
<p>Sets the lower coordinate&#8217;s ghost cells of <em>qbc</em> depending on what 
<tt class="xref py py-attr docutils literal"><span class="pre">mthbc_lower</span></tt> is.  If <tt class="xref py py-attr docutils literal"><span class="pre">mthbc_lower</span></tt> = 0 then the user 
boundary condition specified by <tt class="xref py py-attr docutils literal"><span class="pre">user_bc_lower</span></tt> is used.  Note 
that in this case the function <tt class="xref py py-attr docutils literal"><span class="pre">user_bc_lower</span></tt> belongs only to 
this dimension but <tt class="xref py py-attr docutils literal"><span class="pre">user_bc_lower</span></tt> could set all user boundary 
conditions at once with the appropriate calling sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Input :</th><td class="field-body"><ul class="first simple">
<li><em>grid</em> - (<tt class="xref py py-class docutils literal"><span class="pre">Grid</span></tt>) Grid that the dimension belongs to</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Input/ouput :</th><td class="field-body"><ul class="first last simple">
<li><em>qbc</em> - (ndarray(...,meqn)) Array with added ghost cells which will
be set in this routines</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.qbc_upper">
<tt class="descname">qbc_upper</tt><big>(</big><em>grid</em>, <em>dim</em>, <em>t</em>, <em>qbc</em><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.qbc_upper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.qbc_upper" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply upper boundary conditions to qbc</p>
<p>Sets the upper coordinate&#8217;s ghost cells of <em>qbc</em> depending on what 
<tt class="xref py py-attr docutils literal"><span class="pre">mthbc_upper</span></tt> is.  If <tt class="xref py py-attr docutils literal"><span class="pre">mthbc_upper</span></tt> = 0 then the user 
boundary condition specified by <tt class="xref py py-attr docutils literal"><span class="pre">user_bc_upper</span></tt> is used.  Note 
that in this case the function <tt class="xref py py-attr docutils literal"><span class="pre">user_bc_upper</span></tt> belongs only to 
this dimension but <tt class="xref py py-attr docutils literal"><span class="pre">user_bc_upper</span></tt> could set all user boundary 
conditions at once with the appropriate calling sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Input :</th><td class="field-body"><ul class="first simple">
<li><em>grid</em> - (<tt class="xref py py-class docutils literal"><span class="pre">Grid</span></tt>) Grid that the dimension belongs to</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Input/ouput :</th><td class="field-body"><ul class="first last simple">
<li><em>qbc</em> - (ndarray(...,meqn)) Array with added ghost cells which will
be set in this routines</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.setup">
<tt class="descname">setup</tt><big>(</big><em>solutions</em><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Stub for solver setup routines.</p>
<p>This function is called before a set of time steps are taken in order 
to reach tend.  A subclass should override it only if it needs to 
perform some setup based on attributes that would be set after the 
initialization routine.</p>
<p>This function is just a stub here.</p>
</dd></dl>

<dl class="method">
<dt id="pyclaw.evolve.solver.Solver.step">
<tt class="descname">step</tt><big>(</big><big>)</big><a class="reference internal" href="../../../_modules/pyclaw/evolve/solver.html#Solver.step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyclaw.evolve.solver.Solver.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Take one step</p>
<p>This method is only a stub and should be overridden by all solvers who
would like to use the default time stepping in evolve_to_time.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="../../../apps.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>
<li><a href="../../../index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, Kyle Mandli, David I. Ketcheson, Amal Alghamdi, and Aron Ahmadia.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>