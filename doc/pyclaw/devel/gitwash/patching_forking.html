

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contributing to PyClaw code development &mdash; Clawpack 4.6.x documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '4.6.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="top" title="Clawpack 4.6.x documentation" href="../../../index.html" />
    <link rel="up" title="Information for developers" href="../../for_developers.html" />
    <link rel="next" title="Development workflow" href="development_workflow.html" />
    <link rel="prev" title="Installing and configuring git" href="git_installation.html" /> 
  </head>
  <body>

<div style="background-color: #FFFFE8; text-align: left; padding: 10px 10px 15px 15px">
<table>
<tr>
<!--
<td>
&nbsp;
<br>
<a href="http://www.clawpack.org/"><img src="../../../_static/clawlogo.jpg" width=200 border="0" alt="Clawpack logo"/></a>
</td>
-->
<td>
&nbsp;
<br>
<p style="font-size:300%;color:#7F0000"> Clawpack Documentation
</p>
<br>
<p style="font-size:150%;color:#7F0000"> 
Version 5.0 --- Under Construction!  Not yet accurate
</p>

</td>
</tr>
</table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="development_workflow.html" title="Development workflow"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git_installation.html" title="Installing and configuring git"
             accesskey="P">previous</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="../../../index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
<li><a href="../../../apps.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>


          <li><a href="../../index.html" >Quickstart</a> &raquo;</li>
          <li><a href="../../for_developers.html" accesskey="U">Information for developers</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/clawlogo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Contributing to <em>PyClaw</em> code development</a><ul>
<li><a class="reference internal" href="#getting-pyclaw-from-the-development-repository">Getting <em>PyClaw</em> from the development repository</a></li>
<li><a class="reference internal" href="#making-a-patch-for-quick-fixes">Making a patch, for quick fixes</a></li>
<li><a class="reference internal" href="#making-a-fork-for-substantial-contributions">Making a fork, for substantial contributions</a><ul>
<li><a class="reference internal" href="#set-up-and-configure-a-github-account">Set up and configure a github account</a></li>
<li><a class="reference internal" href="#create-your-own-forked-copy-of-pyclaw">Create your own forked copy of PyClaw</a></li>
<li><a class="reference internal" href="#set-your-local-clone-of-pyclaw-to-point-to-your-fork-and-to-the-main-repository">Set your local clone of PyClaw to point to your fork and to the main repository</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="git_installation.html"
                        title="previous chapter">Installing and configuring git</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="development_workflow.html"
                        title="next chapter">Development workflow</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/pyclaw/devel/gitwash/patching_forking.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="contributing-to-pyclaw-code-development">
<span id="contribution"></span><h1>Contributing to <em>PyClaw</em> code development<a class="headerlink" href="#contributing-to-pyclaw-code-development" title="Permalink to this headline">¶</a></h1>
<p>If you are interested in contributing to <em>PyClaw</em> development, you
can add your contribution through making patches; see <a class="reference internal" href="#making-patches"><em>Making a patch, for quick fixes</em></a>.
However, for substantial contributions, you may want to consider forking
<a class="reference external" href="http://github.com/clawpack/pyclaw">PyClaw github</a> repository, see <a class="reference internal" href="#forking"><em>Making a fork, for substantial contributions</em></a>, and making pull requests
for your changes. Here we introduce those two methods for contributing
to <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> source code. For more information about the forking model,
please see <a class="reference internal" href="development_workflow.html#development-workflow"><em>Development workflow</em></a>.</p>
<div class="section" id="getting-pyclaw-from-the-development-repository">
<span id="following-latest"></span><h2>Getting <em>PyClaw</em> from the development repository<a class="headerlink" href="#getting-pyclaw-from-the-development-repository" title="Permalink to this headline">¶</a></h2>
<p>After installing git, you can get the latest <em>PyClaw</em> source from the
<a class="reference external" href="http://github.com/clawpack/pyclaw">PyClaw github</a> repository using the following command:</p>
<div class="highlight-python"><pre>$ git clone git://github.com/clawpack/pyclaw.git</pre>
</div>
<p>You now have a copy of the code tree in the new <tt class="docutils literal"><span class="pre">pyclaw</span></tt> directory.
From time to time you may want to pull down the latest code.  Do this with:</p>
<div class="highlight-python"><pre>cd pyclaw
git pull</pre>
</div>
<p>The tree in <tt class="docutils literal"><span class="pre">pyclaw</span></tt> will now have the latest changes from <tt class="docutils literal"><span class="pre">pyclaw</span></tt>
repository.</p>
</div>
<div class="section" id="making-a-patch-for-quick-fixes">
<span id="making-patches"></span><h2>Making a patch, for quick fixes<a class="headerlink" href="#making-a-patch-for-quick-fixes" title="Permalink to this headline">¶</a></h2>
<p>You&#8217;ve discovered a bug or something else you want to change
in <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> .. — excellent!</p>
<p>You&#8217;ve worked out a way to fix it — even better!</p>
<p>You want to tell us about it — best of all!</p>
<p>The easiest way is to make a <em>patch</em> or set of patches.  Here
we explain how.  Making a patch is the simplest and quickest,
but if you&#8217;re going to be doing anything more than simple
quick things, please consider <a class="reference internal" href="#forking"><em>Making a fork, for substantial contributions</em></a> instead.</p>
<p>Following are the steps for making patches:</p>
<ol class="arabic">
<li><p class="first">Tell git who you are so it can label the commits you&#8217;ve
made:</p>
<div class="highlight-python"><pre>git config --global user.email you@yourdomain.example.com
git config --global user.name "Your Name Comes Here"</pre>
</div>
</li>
<li><p class="first">If you don&#8217;t already have one, clone a copy of the
<a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> repository:</p>
<div class="highlight-python"><pre>git clone git://github.com/clawpack/pyclaw.git
cd pyclaw</pre>
</div>
</li>
<li><p class="first">Make a &#8216;feature branch&#8217;.  This will be where you work on
your bug fix.  It&#8217;s nice and safe and leaves you with
access to an unmodified copy of the code in the main
branch:</p>
<div class="highlight-python"><pre>git branch the-fix-im-thinking-of
git checkout the-fix-im-thinking-of</pre>
</div>
</li>
<li><p class="first">Do some edits, and commit them as you go:</p>
<div class="highlight-python"><pre># hack, hack, hack
# Tell git about any new files you've made
git add somewhere/tests/test_my_bug.py
# commit work in progress as you go
git commit -am 'BF - added tests for Funny bug'
# hack hack, hack
git commit -am 'BF - added fix for Funny bug'</pre>
</div>
<p>Note the <tt class="docutils literal"><span class="pre">-am</span></tt> options to <tt class="docutils literal"><span class="pre">commit</span></tt>. The <tt class="docutils literal"><span class="pre">m</span></tt> flag just
signals that you&#8217;re going to type a message on the command
line.  The <tt class="docutils literal"><span class="pre">a</span></tt> flag — you can just take on faith —
or see <a class="reference external" href="http://www.gitready.com/beginner/2009/01/18/the-staging-area.html">why the -a flag?</a>.</p>
</li>
<li><p class="first">When you have finished, check you have committed all your
changes:</p>
<div class="highlight-python"><pre>git status</pre>
</div>
</li>
<li><p class="first">Finally, make your commits into patches.  You want all the
commits since you branched from the <tt class="docutils literal"><span class="pre">master</span></tt> branch:</p>
<div class="highlight-python"><pre>git format-patch -M -C master</pre>
</div>
<p>You will now have several files named for the commits:</p>
<div class="highlight-python"><pre>0001-BF-added-tests-for-Funny-bug.patch
0002-BF-added-fix-for-Funny-bug.patch</pre>
</div>
<p>Send these files to the <a class="reference external" href="http://groups.google.com/group/claw-users">PyClaw mailing list</a> — where
we will thank you warmly.</p>
</li>
</ol>
<p>When you are done, to switch back to the main copy of the
code, just return to the <tt class="docutils literal"><span class="pre">master</span></tt> branch:</p>
<div class="highlight-python"><pre>git checkout master</pre>
</div>
</div>
<div class="section" id="making-a-fork-for-substantial-contributions">
<span id="forking"></span><h2>Making a fork, for substantial contributions<a class="headerlink" href="#making-a-fork-for-substantial-contributions" title="Permalink to this headline">¶</a></h2>
<p>If you find you have done some patches, and you have one or
more feature branches, you will probably want to start working
on a separate fork and make pull requests.</p>
<p>You need to make a fork only once. The instructions here are very similar
to the instructions at <a class="reference external" href="http://help.github.com/forking/">http://help.github.com/forking/</a> — please see
that page for more detail.  We&#8217;re repeating some of it here just to give the
specifics for the <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> project, and to suggest some default names.</p>
<div class="section" id="set-up-and-configure-a-github-account">
<h3>Set up and configure a github account<a class="headerlink" href="#set-up-and-configure-a-github-account" title="Permalink to this headline">¶</a></h3>
<p>If you don&#8217;t have a github account, go to the github page, and make one.</p>
<p>You then need to configure your account to allow write access — see
the <cite>Generating SSH keys</cite> help on <a class="reference external" href="http://help.github.com">github help</a>.</p>
</div>
<div class="section" id="create-your-own-forked-copy-of-pyclaw">
<h3>Create your own forked copy of <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a><a class="headerlink" href="#create-your-own-forked-copy-of-pyclaw" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Log into your github account.</p>
</li>
<li><p class="first">Go to the <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> github home at <a class="reference external" href="http://github.com/clawpack/pyclaw">PyClaw github</a>.</p>
</li>
<li><p class="first">Click on the <em>fork</em> button:</p>
<img alt="../../../_images/forking_button1.png" src="../../../_images/forking_button1.png" />
<p>Now, after a short pause and some &#8216;Hardcore forking action&#8217;, you
should find yourself at the home page for your own forked copy of <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a>.</p>
</li>
</ol>
</div>
<div class="section" id="set-your-local-clone-of-pyclaw-to-point-to-your-fork-and-to-the-main-repository">
<span id="linking-to-upstream"></span><span id="set-up-fork"></span><h3>Set your local clone of <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> to point to your fork and to the main repository<a class="headerlink" href="#set-your-local-clone-of-pyclaw-to-point-to-your-fork-and-to-the-main-repository" title="Permalink to this headline">¶</a></h3>
<p>If you already have a local clone of the main <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> repository, you can
set the clone origin to be your fork while keeping the main repository
as an additional remote that you can pull from.
The following are the required steps:</p>
<div class="highlight-python"><pre># checkout and refresh master branch from main repo
git checkout master
git pull origin master
# rename pointer to main repository to 'upstream'
git remote rename origin upstream
# point your repo to default read / write to your fork on github
git remote add origin git@github.com:your-user-name/pyclaw.git
# push up any branches you've made and want to keep
git push origin the-fix-im-thinking-of</pre>
</div>
<p>Then you can, if you want, follow the
<a class="reference internal" href="development_workflow.html#development-workflow"><em>Development workflow</em></a>.</p>
<p>You also can directly clone your fork and set it to additionally
point to the main repository. Here are the required steps:</p>
<ol class="arabic">
<li><p class="first">Clone your fork to your local machine with</p>
<div class="highlight-python"><pre>$ git clone git@github.com:your-user-name/pyclaw.git</pre>
</div>
</li>
<li><p class="first">To view all the branches you have</p>
<div class="highlight-python"><pre>$ cd pyclaw
$ git branch -a</pre>
</div>
<p>You&#8217;ll get something like:</p>
<div class="highlight-python"><pre>* master
remotes/origin/master</pre>
</div>
<p>This tells you that you are currently on the <tt class="docutils literal"><span class="pre">master</span></tt> branch, and
that you also have a <tt class="docutils literal"><span class="pre">remote</span></tt> connection to <tt class="docutils literal"><span class="pre">origin/master</span></tt>.</p>
</li>
<li><p class="first">To view the URLs of the remote repositories you have, try</p>
<div class="highlight-python"><pre>$ git remote -v</pre>
</div>
<p>which will point to your github fork in this case.</p>
</li>
<li><p class="first">Now you want to connect to the upstream <a class="reference external" href="http://github.com/clawpack/pyclaw">PyClaw github</a> repository, so
you can merge in changes from trunk.
To point your clone to the main PyClaw repository, do:</p>
<div class="highlight-python"><pre>$ git remote add upstream git://github.com/clawpack/pyclaw.git</pre>
</div>
</li>
</ol>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">upstream</span></tt> here is just the arbitrary name we&#8217;re using to refer to the
main <a class="reference external" href="http://numerics.kaust.edu.sa/pyclaw">PyClaw</a> repository at <a class="reference external" href="http://github.com/clawpack/pyclaw">PyClaw github</a>.</p>
<p>Note that we&#8217;ve used <tt class="docutils literal"><span class="pre">git://</span></tt> for the URL rather than <tt class="docutils literal"><span class="pre">git&#64;</span></tt>.  The
<tt class="docutils literal"><span class="pre">git://</span></tt> URL is read only.  This means that we can&#8217;t accidentally
(or deliberately) write to the upstream repository, and we are
only going to use it to merge into our own code.</p>
</div></blockquote>
<ol class="arabic">
<li><p class="first">Just for your own satisfaction, show yourself that you now have a new
&#8216;remote&#8217;, with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span> <span class="pre">show</span></tt>, giving you something like:</p>
<div class="highlight-python"><pre>upstream git://github.com/clawpack/pyclaw.git (fetch)
upstream git://github.com/clawpack/pyclaw.git (push)
origin   git@github.com:your-user-name/pyclaw.git (fetch)
origin   git@github.com:your-user-name/pyclaw.git (push)</pre>
</div>
</li>
</ol>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="development_workflow.html" title="Development workflow"
             >next</a> |</li>
        <li class="right" >
          <a href="git_installation.html" title="Installing and configuring git"
             >previous</a> |</li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="../../../index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
<li><a href="../../../apps.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>


          <li><a href="../../index.html" >Quickstart</a> &raquo;</li>
          <li><a href="../../for_developers.html" >Information for developers</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Randall J. LeVeque and others.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>