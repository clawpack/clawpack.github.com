<!-- **** DO NOT EDIT THIS FILE *** 
         This file was generated automatically from file
              maketopo.py
         using $CLAW/clawutil/src/python/clawutil/clawcode2html.py         -->

<html>
<title> maketopo.py.html </title>


          <head>
           <link rel="icon" href="http://clawpack.github.io//clawicon.ico" />
          </head> 
           <BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000FF" 
                 VLINK="#5500DD" ALINK="#FF0000">
           <font FACE="HELVETICA,ARIAL">
           
<!-- Created from the file /Users/rjl/Downloads/clawpack/geoclaw/examples/tsunami/chile2010/maketopo.py -->
<!-- Date: Sat Dec 21 2013 at 16:25:16 -->

<table bgcolor="#FFEE99"> <tr> <td>
&nbsp;<font size=6> maketopo.py.html </font> </td>

            <td><a href="http://clawpack.github.io/doc/index.html"><img
            src="http://clawpack.github.io//clawlogo.jpg"
            width=100 alt="CLAWPACK"></a>&nbsp;&nbsp; </td> </tr> <tr> <td>
&nbsp;Source file: &nbsp;&nbsp;<a href="maketopo.py">maketopo.py </a>
</td></tr><tr><td>
&nbsp;Directory:  &nbsp; /Users/rjl/Downloads/clawpack/geoclaw/examples/tsunami/chile2010 
</td></tr><tr><td>
&nbsp;Converted:  &nbsp; Sat Dec 21 2013 at 16:25:16 
&nbsp; using <a href="http://clawpack.github.io//doc/application_documentation.html#clawcode2html">clawcode2html</a>
</td></tr><tr><td>
<font color="#BB3300"> &nbsp;This documentation file will 
not reflect any later changes in the source file. </font>
</td></tr></table></font>
<p>
<pre> 
"""
Create topo files needed for this example:
    etopo10min120W60W60S0S.asc        download from GeoClaw topo repository
    usgs100227.tt1                    create using Okada model and .cfg file
    
"""

from clawpack.geoclaw import topotools
import os,sys

def gettopo():
    """
    Retrieve the topo file from the GeoClaw repository.
    """
    remote_directory = 'http://www.clawpack.org/geoclaw/topo/etopo'
    topo_fname = 'etopo10min120W60W60S0S.asc'
    topotools.get_topo(topo_fname, remote_directory)

    
def makedtopo():
    """
    Create dtopo data file for deformation of sea floor due to earthquake.
    Uses the Okada model with fault parameters and mesh specified in the
    .cfg file.
    """
    from clawpack.geoclaw import okada
    dtopo_fname = 'usgs100227.tt1'
    dtopo_cfg = 'usgs100227.cfg'
    if os.path.exists(dtopo_fname):
        print "*** Not regenerating dtopo file (already exists): %s" % dtopo_fname
    else:
        print "Using Okada model to create %s " % dtopo_fname
        okada.builddynamicdeffile(dtopo_cfg, dtopo_cfg, dtopo_fname)


if __name__=='__main__':
    gettopo()
    makedtopo()
</pre></html>
