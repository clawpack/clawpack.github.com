

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Recent changes &mdash; Clawpack v4.6.x documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '4.6.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Clawpack v4.6.x documentation" href="index.html" /> 
  </head>
  <body>

<div style="background-color: #FFFFE8; text-align: left; padding: 10px 10px 15px 15px">
<table>
<tr>
<!--
<td>
&nbsp;
<br>
<a href="http://www.clawpack.org/"><img src="_static/clawlogo.jpg" border="0" alt="Clawpack logo"/></a>
</td>
-->
<td>
<br>
&nbsp;
<br>
<a href
<font size="7"  color="#7F0000"> Clawpack Documentation</font>
<br>
&nbsp;
<br>
</td>
</tr>
</table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="apps.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>
<li><a href="index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/clawlogo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Recent changes</a><ul>
<li><a class="reference internal" href="#new-in-clawpack-5-0">New in Clawpack 5.0</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#directory-structure">Directory structure</a></li>
<li><a class="reference internal" href="#makefiles">Makefiles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-in-clawpack-4-5">New in Clawpack 4.5</a></li>
<li><a class="reference internal" href="#new-in-clawpack-4-4">New in Clawpack 4.4</a><ul>
<li><a class="reference internal" href="#id1">Overview</a></li>
<li><a class="reference internal" href="#summary-of-major-changes">Summary of major changes</a></li>
<li><a class="reference internal" href="#changes-since-4-4-0">Changes since 4.4.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/changes50.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="recent-changes">
<span id="changes"></span><h1>Recent changes<a class="headerlink" href="#recent-changes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="new-in-clawpack-5-0">
<span id="new-in-claw50"></span><h2>New in Clawpack 5.0<a class="headerlink" href="#new-in-clawpack-5-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>A few changes have been made that break backward compatibility.
These are discussed in more detail below.  A brief summary:</p>
<blockquote>
<div><ul class="simple">
<li>The directory structure has changed, so old Makefiles may not point to libraries
properly.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="directory-structure">
<h3>Directory structure<a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a></h3>
<p>The directory structure of Clawpack has been modified to conform (slightly) better with
standard conventions.</p>
<p>In Version 4.4, the main directory was called <cite>claw</cite> and within this was a subdirectory
<cite>clawpack</cite> containing the classic single-grid Clawpack routines.  Parallel to this was a
subdirectory <cite>amrclaw</cite> with the AMR versions.</p>
<p>Starting in Version 4.5.0, the main directory is called <cite>clawpack</cite>.
The location of this directory is where the environment variable <cite>$CLAW</cite> should point and
this convention will be used below.</p>
<p>The subdirectory <cite>$CLAW/src</cite> now contains:</p>
<blockquote>
<div><ul class="simple">
<li><cite>claw</cite>:  The classic Clawpack source code, with subdirectories <cite>Nd</cite> for <cite>N=1,2</cite>
containing the library routines (previously these routines were
in <cite>claw/clawpack/Nd/lib</cite>).</li>
<li><cite>amrclaw</cite>: The AMR version (only the <cite>2d</cite> version has been ported at this time).</li>
<li><cite>geoclaw</cite>: The GeoClaw code.  The subdirectory <cite>2d</cite> contains version of the
<cite>amrclaw</cite> routines that have been modified for 2d depth-averaged flows.</li>
</ul>
</div></blockquote>
<p>The main directory also contains a subdirectory <cite>$CLAW/lib</cite> that will be used to store
dynamically linked libraries created from the source code.  For more details, see below.</p>
</div>
<div class="section" id="makefiles">
<h3>Makefiles<a class="headerlink" href="#makefiles" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="new-in-clawpack-4-5">
<span id="new-in-claw45"></span><h2>New in Clawpack 4.5<a class="headerlink" href="#new-in-clawpack-4-5" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="new-in-clawpack-4-4">
<span id="new-in-claw44"></span><h2>New in Clawpack 4.4<a class="headerlink" href="#new-in-clawpack-4-4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Clawpack 4.4 consists of the Fortran 77 files from Clawpack 4.3 together
with new Python tools for specifying input data and plotting results.</p>
<p>There is also a preliminary version of a pure Python version of Clawpack,
see <a class="reference internal" href="pyclaw.html#pyclaw"><em>PyClaw</em></a>.</p>
</div>
<div class="section" id="summary-of-major-changes">
<h3>Summary of major changes<a class="headerlink" href="#summary-of-major-changes" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">The classic clawpack routines now read data from a file <em>claw.data</em></p>
</li>
<li><p class="first">rather than <em>clawNez.data</em> and the first line of this file lists the
number of space dimensions.   The remainder of the file has the same
form as before.</p>
</li>
<li><p class="first">Rather than modifying <em>claw.data</em> it is recommended that you modify
parameters in the file <em>setrun.py</em> and then type</p>
<blockquote>
<div><p>$ make .data</p>
</div></blockquote>
<p>to create the <em>claw.data</em> file.  You can modify this to also create
<em>setplot.data</em> or other required data files.</p>
</li>
<li><p class="first">The matlab plotting scripts should still work as described in the 4.3
documentation, but there is now a Python option that uses only open
source software and provides more powerful plotting tools.
See <a class="reference internal" href="visclaw_doc/plotting.html#plotting"><em>Plotting options in Python</em></a>.</p>
</li>
<li><p class="first">The output routines such as <em>out1.f</em>, <em>out2.f</em> in classic Clawpack and
<em>valout.f</em> in AMRClaw have been slightly modified to also print ndim to
the <em>fort.t</em> files.  This should not affect Matlab plotting but is
needed for the new Python plotting routines.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-since-4-4-0">
<h3>Changes since 4.4.0<a class="headerlink" href="#changes-since-4-4-0" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">10/30/09: Several more changes to Makefiles and amrclaw/2d/lib.</p>
<ul class="simple">
<li>This version posted as claw4rev226.tar.gz</li>
<li>The subroutines filpatch and prefil are now written as recursive
subroutines, so filpatch2.f, filpatch3.f, prefil2.f, and prefil3.f have
been removed.  Also drawrg.f has been removed, an old NCAR graphics
routine no longer used.  Makefiles in any amr application directory
will need to be changed to remove these files from the list.</li>
<li>For some samples of how to use the latest amrclaw, see e.g.,<ul>
<li><a class="reference external" href="claw/clawpack/2d/example1/amr/README.html">$CLAW/clawpack/2d/example1/amr</a></li>
<li><a class="reference external" href="claw/apps/advection/2d/annulus/amr/README.html">$CLAW/apps/advection/2d/annulus/amr</a></li>
</ul>
</li>
</ul>
</li>
<li><p class="first">10/20/09: Several changes to Makefiles and amrclaw/2d/lib.</p>
<ul class="simple">
<li>A new <a class="reference external" href="claw/apps">$CLAW/apps</a> directory has been added for
applications.  The ones there now are ones used to debug the amrclaw
changes, but eventually many more applications from Clawpack 4.3 and
elsewhere will be put here.</li>
<li>New options added to the common Makefile in util/Makefile.common.
Type &#8220;make help&#8221; for a list.  Makefiles can now also check for
dependencies of included files such as call.i used in AMR.</li>
<li>New boundary conditions added to amrclaw for problems on the sphere,</li>
<li>Dynamic memory for amrclaw - the subroutine init_alloc.f95 was split up into:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>init_alloc.f90   does initial allocation and the initial size of
the work array for AMR is specified here.</li>
<li>resize_alloc.f90  reallocates for dynamic memory allocation if
the code runs out of space for AMR.</li>
<li>resize_alloc_static.f90  halts with an error message instead of
reallocating.  For use with compilers that don&#8217;t support move_alloc,
such as older versions of gfortran.  This is recommended as the
default version in application Makefiles since otherwise it might
not compile.  Note that some f90 compatible compiler is required
for using AMR (e.g. gfortran, which is freely available).</li>
<li>restart_alloc.f90 is needed when doing a restart with dynamic memory.</li>
<li>Note that .f95 files are now relabelled as .f90 since this is
apparently the standard.</li>
<li>Note that Makefiles in user directories that use amrclaw
will need to be updated to list init_alloc.f90 and
resize_storage_static.f90 or resize_storage.f90.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Several bug fixes in amrclaw/2d/lib</li>
</ul>
</li>
<li><p class="first">9/18/09: branches/rjl merged back into trunk, includes:</p>
<ul>
<li><p class="first">Improvements to plotting routines and documentation,</p>
</li>
<li><p class="first">More converted examples in the book directory,</p>
</li>
<li><p class="first">clawpack/2d/lib directory added with 2d single-grid routines.</p>
<p>Similar to version from Clawpack 4.3 but can use setrun.py to set
runtime parameters and data file is now called claw.data.</p>
<p>See clawpack/2d/example1 for an example of usage.</p>
</li>
<li><p class="first">amrclaw/2d/lib directory added.</p>
<p>Similar to the version in Clawpack 4.3,
but with some f95 routines to support dynamic memory allocation.  Also
gauges are implemented in this version (documentation to appear).</p>
<p>See clawpack/2d/example1/amr for an example of usage.</p>
</li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
<li><a href="http://www.clawpack.org"><font color="#7F0000">Clawpack Webpage</font></a>|&nbsp;</li>
<li><a href="apps.html"><font color="#7F0000">Gallery</font></a>|&nbsp;</li>
<li><a href="index.html"><font color="#7F0000">Contents</font></a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Randall J. LeVeque and others.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>