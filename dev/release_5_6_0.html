<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>v5.6.0 release notes &#8212; Clawpack 5.6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/layout.css" type="text/css" />
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body role="document">
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <h1><a href="http://clawpack.org/">Clawpack-5</a></h1> 
    <nav>
      <ul>
        <li>
          <a href="contents.html">Docs</a>
        </li>
        <li>
          <a href="installing.html">Install</a>
        </li>
        <li>
          <a class="" href="gallery/index.html">Gallery</a>
        </li>
        <li>
          <a class="" href="community.html">Community</a>
        </li>
        <li>
          <a class="active" href="http://github.com/clawpack">Source</a>
        </li>
        <li>
          <a class="" href="developers.html">Develop</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">Clawpack 5.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="v5-6-0-release-notes">
<span id="release-5-6-0"></span><h1>v5.6.0 release notes<a class="headerlink" href="#v5-6-0-release-notes" title="Permalink to this headline">¶</a></h1>
<p>Clawpack 5.6.0 was released on June 2, 2019.  See <a class="reference internal" href="installing.html#installing"><span class="std std-ref">Installing Clawpack</span></a>.</p>
<p>Changes relative to Clawpack 5.5.0 (Aug 28, 2018) are shown below.</p>
<p>To see more recent changes that are in the the master branch but not yet
released, see <a class="reference internal" href="changes_to_master.html#changes-to-master"><span class="std std-ref">Changes to master since v5.6.0</span></a>.</p>
<div class="section" id="changes-that-are-not-backward-compatible">
<h2>Changes that are not backward compatible<a class="headerlink" href="#changes-that-are-not-backward-compatible" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>A new approach to flagging cells for AMR refinement was added in 1d and
2d amrclaw and in geoclaw (see notes below).  This led to the addition
of a new <cite>adjoint.data</cite> file created by running <cite>setrun.py</cite>.
If adjoint error flagging is not being used then this file is still
expected by the Fortran code.</li>
<li>Many Fortran routines changes for adjoint flagging and some new modules
were added, resulting in changes to the Makefiles used in amrclaw and
geoclaw (see below).</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="general-changes">
<h2>General changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>None so far.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="changes-to-classic">
<h2>Changes to classic<a class="headerlink" href="#changes-to-classic" title="Permalink to this headline">¶</a></h2>
<p>Nothing major.</p>
<p>See <a class="reference external" href="https://github.com/clawpack/classic/compare/v5.5.0...v5.6.0">classic diffs</a></p>
</div>
<div class="section" id="changes-to-clawutil">
<h2>Changes to clawutil<a class="headerlink" href="#changes-to-clawutil" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>A new attribute <cite>data.ClawRunData.adjointdata</cite> was added, which points to
an object of class <cite>amrclaw.data.AdjointData</cite> containing information
about inputs needed for adjoint flagging.</li>
</ul>
</div></blockquote>
<p>See <a class="reference external" href="https://github.com/clawpack/clawutil/compare/v5.5.0...v5.6.0">clawutil diffs</a></p>
</div>
<div class="section" id="changes-to-visclaw">
<h2>Changes to visclaw<a class="headerlink" href="#changes-to-visclaw" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Numerous minor improvements.</li>
</ul>
</div></blockquote>
<p>See <a class="reference external" href="https://github.com/clawpack/visclaw/compare/v5.5.0...v5.6.0">visclaw diffs</a></p>
</div>
<div class="section" id="changes-to-riemann">
<h2>Changes to riemann<a class="headerlink" href="#changes-to-riemann" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>HLLE solvers added for the Euler equations and 1d and 2d shallow water.</li>
<li>Riemann solvers added for the adjoint of the linearized shallow water
equations in non-conservative form, as needed for adjoint flagging.</li>
<li>Note that other adjoint Riemann solvers for amrclaw examples had already
been added in v5.5.0.</li>
</ul>
</div></blockquote>
<p>See <a class="reference external" href="https://github.com/clawpack/riemann/compare/v5.5.0...v5.6.0">riemann diffs</a></p>
</div>
<div class="section" id="changes-to-amrclaw">
<h2>Changes to amrclaw<a class="headerlink" href="#changes-to-amrclaw" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>A new approach to flagging cells for AMR refinement was added in 1d and
2d (not yet in 3d), based on
first solving an adjoint equation and then taking inner products of the
forward solution at each regridding time with snapshots of the adjoint
solution.  This is described in <a class="reference external" href="http://www.clawpack.org/dev/adjoint.html">http://www.clawpack.org/dev/adjoint.html</a>
and <a class="reference external" href="http://www.clawpack.org/dev/refinement.html">http://www.clawpack.org/dev/refinement.html</a>.  This was developed
over the past several years, primarily by
<a class="reference external" href="https://github.com/BrisaDavis/">&#64;BrisaDavis</a>, and required
refactoring several routines.  Some of these changes were already
included in version 5.5.0.</li>
<li>In <cite>amrclaw/src/1d</cite>, new the Fortran module <cite>adjoint_module.f90</cite>
was to support adjoint flagging, and <cite>Makefile.amr_1d</cite> updated.</li>
<li>In <cite>amrclaw/src/2d</cite>, new Fortran modules <cite>adjoint_module.f90</cite> and
<cite>adjointsup_module.f90</cite> were added to support adjoint flagging,
and <cite>Makefile.amr_2d</cite> updated.</li>
<li>class <cite>amrclaw.data.AdjointData</cite> added, to contain information
about adjoint error flagging.</li>
<li><cite>moment.f</cite> was refactored as <cite>moment.f90</cite>.</li>
</ul>
</div></blockquote>
<p>See <a class="reference external" href="https://github.com/clawpack/amrclaw/compare/v5.5.0...v5.6.0">amrclaw diffs</a></p>
</div>
<div class="section" id="changes-to-geoclaw">
<h2>Changes to geoclaw<a class="headerlink" href="#changes-to-geoclaw" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>The adjoint flagging option was also added to GeoClaw, resulting in
many changes to geoclaw routines.</li>
<li>In <cite>geoclaw/src/2d/shallow</cite>, new Fortran modules <cite>adjoint_module.f90</cite> and
<cite>adjointsup_module.f90</cite> were added to support adjoint flagging,
and <cite>Makefile.geoclaw</cite> updated.</li>
<li>These modules were also added to
<cite>src/2d/shallow/multilayer/Makefile.multilayer</cite>, although adjoint
flagging has not been implemented yet for the multilayer equations.</li>
<li>New capabilities were added to <cite>src/python/geoclaw/surge/storm.py</cite> for
reading storm tracks.</li>
<li><cite>topotools.read_netcdf</cite> was improved to more robustly handle <cite>coarsen == 1</cite></li>
<li>The url was fixed in <cite>examples/tsunami/chile2010/maketopo.py</cite> that caused
a webpage to be downloaded instead of the topofile needed for this
example, caused by incorrect url resolution of <cite>geoclaw.org</cite>.</li>
<li>A typo was fixed in <cite>dtopotools.SubFault.dynamic_slip</cite> that caused
failure.</li>
<li>Numerous other minor fixes and improvements.</li>
</ul>
</div></blockquote>
<p>See <a class="reference external" href="https://github.com/clawpack/geoclaw/compare/v5.5.0...v5.6.0">geoclaw diffs</a></p>
</div>
<div class="section" id="changes-to-pyclaw">
<h2>Changes to PyClaw<a class="headerlink" href="#changes-to-pyclaw" title="Permalink to this headline">¶</a></h2>
<p>For changes in PyClaw, see the <a class="reference external" href="https://github.com/clawpack/pyclaw/blob/master/CHANGES.md">PyClaw changelog</a>.</p>
<p>See <a class="reference external" href="https://github.com/clawpack/pyclaw/compare/v5.5.0...v5.6.0">pyclaw diffs</a></p>
</div>
</div>
<div class="section" id="other-clawpack-repositories">
<h1>Other Clawpack Repositories<a class="headerlink" href="#other-clawpack-repositories" title="Permalink to this headline">¶</a></h1>
<p>The repositories below are not included in the Clawpack tarfile or pip
install, but changes to these repositories may also be of interest.</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/clawpack/apps/compare/v5.5.0...v5.6.0">apps diffs</a></li>
<li><a class="reference external" href="https://github.com/clawpack/doc/compare/v5.5.0...v5.6.0">doc diffs</a></li>
<li><a class="reference external" href="https://github.com/clawpack/docker-files/compare/v5.5.0...v5.6.0">docker-files diffs</a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p><a href="http://clawpack.org/">
    <img class="logo" src= "_static/clawlogo.jpg" alt="Logo"/>
</a>
<h2>Version 5.6.0</h2>
</p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">v5.6.0 release notes</a><ul>
<li><a class="reference internal" href="#changes-that-are-not-backward-compatible">Changes that are not backward compatible</a></li>
<li><a class="reference internal" href="#general-changes">General changes</a></li>
<li><a class="reference internal" href="#changes-to-classic">Changes to classic</a></li>
<li><a class="reference internal" href="#changes-to-clawutil">Changes to clawutil</a></li>
<li><a class="reference internal" href="#changes-to-visclaw">Changes to visclaw</a></li>
<li><a class="reference internal" href="#changes-to-riemann">Changes to riemann</a></li>
<li><a class="reference internal" href="#changes-to-amrclaw">Changes to amrclaw</a></li>
<li><a class="reference internal" href="#changes-to-geoclaw">Changes to geoclaw</a></li>
<li><a class="reference internal" href="#changes-to-pyclaw">Changes to PyClaw</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-clawpack-repositories">Other Clawpack Repositories</a></li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
  </ul></li>
</ul>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/release_5_6_0.rst.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/clawpack/doc/blob/master/doc/release_5_6_0.rst"
           rel="nofollow">Show on GitHub</a></li>
    <li><a href="https://github.com/clawpack/doc/edit/master/doc/release_5_6_0.rst"
           rel="nofollow">Edit on GitHub</a></li>
  </ul>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3>Versions</h3>
<ul>
    <li><a href="../v5.4.1/contents.html">v5.4.1</a></li>
    <li><a href="../v5.4.0/contents.html">v5.4.0</a></li>
    <li><a href="../v5.3.1/contents.html">v5.3.1</a></li>
    <li><a href="../v5.3.0/contents.html">v5.3.0</a></li>
    <li><a href="../v5.2.1/contents.html">v5.2.1</a></li>
    <li><a href="../v5.2.0/contents.html">v5.2.0</a></li>
    <li><a href="../v5.1.0/contents.html">v5.1.0</a></li>
    <li><a href="../v5.6.0/release_5_6_0.html">v5.6.0</a></li>
    <li><a href="../v5.5.0/contents.html">v5.5.0</a></li>
    <li><a href="release_5_6_0.html">dev</a></li>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright CC-BY 2019, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44811544-1', 'auto');
  ga('send', 'pageview');

  </script>
  
  </body>
</html>