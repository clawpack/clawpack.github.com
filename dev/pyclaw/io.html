
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Pyclaw Input/Output Package &#8212; Clawpack 5.10.x documentation</title>
    <link rel="stylesheet" href="../_static/base.css" type="text/css" />
    <link rel="stylesheet" href="../_static/layout.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/flasky.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PyClaw Solutions" href="solution.html" />
    <link rel="prev" title="Pyclaw Limiters" href="evolve/limiters.html" /> 
  </head><body>
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <h1><a href="http://clawpack.org/">Clawpack-5</a></h1> 
    <nav>
      <ul>
        <li>
          <a href="../contents.html">Docs</a>
        </li>
        <li>
          <a href="../installing.html">Install</a>
        </li>
        <li>
          <a class="" href="http://clawpack.org/gallery/index.html">Gallery</a>
        </li>
        <li>
          <a href="../about.html">Citation</a>
        </li>
        <li>
          <a class="active" href="http://github.com/clawpack">GitHub</a>
        </li>
        <li>
          <a class="" href="../community.html">Community</a>
        </li>
        <li>
          <a class="" href="../developers.html">Contribute</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="solution.html" title="PyClaw Solutions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="evolve/limiters.html" title="Pyclaw Limiters"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../contents.html">Clawpack 5.10.x documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">PyClaw</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Pyclaw Input/Output Package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="pyclaw-input-output-package">
<span id="pyclaw-io"></span><h1>Pyclaw Input/Output Package<a class="headerlink" href="#pyclaw-input-output-package" title="Permalink to this heading">¶</a></h1>
<p>Pyclaw supports the following input and output formats:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#ascii">ASCII</a> - ASCII file I/O, supports traditional clawpack format files</p></li>
<li><p><a class="reference internal" href="#binary">BINARY</a> - for reading binary output files containing 32 or 64 byte floats</p></li>
<li><p><a class="reference internal" href="#hdf5">HDF5</a> - HDF5 file I/O</p></li>
<li><p><a class="reference internal" href="#netcdf">NetCDF</a> - NetCDF file I/O, support for NetCDF3 and NetCDF4 files</p></li>
</ul>
</div></blockquote>
<p>Each module contains two main routines <code class="docutils literal notranslate"><span class="pre">read_&lt;format&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">write_&lt;format&gt;</span></code> which <code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code> can call with the
appropriate &lt;format&gt;.  In order to create a new file I/O extension the calling
signature must match</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">read_</span><span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span><span class="n">frame</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="n">file_prefix</span><span class="p">,</span><span class="n">write_aux</span><span class="p">,</span><span class="n">options</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>where the the inputs are</dt><dd><dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Pyclaw object to be
output</p></li>
<li><p><em>frame</em> - (int) Frame number</p></li>
<li><p><em>path</em> - (string) Root path</p></li>
<li><p><em>file_prefix</em> - (string) Prefix for the file name.</p></li>
<li><p><em>write_aux</em> - (bool) Boolean controlling whether the associated
auxiliary array should be written out.</p></li>
<li><p><em>options</em> - (dict) Optional argument dictionary</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">write_</span><span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span><span class="n">frame</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="n">file_prefix</span><span class="p">,</span><span class="n">write_aux</span><span class="p">,</span><span class="n">options</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>where the inputs are</dt><dd><dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Pyclaw object to be
output</p></li>
<li><p><em>frame</em> - (int) Frame number</p></li>
<li><p><em>path</em> - (string) Root path</p></li>
<li><p><em>file_prefix</em> - (string) Prefix for the file name.</p></li>
<li><p><em>write_aux</em> - (bool) Boolean controlling whether the associated
auxiliary array should be written out.</p></li>
<li><p><em>options</em> - (dict) Optional argument dictionary.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p>Note that both allow for an <code class="docutils literal notranslate"><span class="pre">options</span></code> dictionary that is format specific
and should be documented thoroughly.  For examples of this usage, see the
<a class="reference internal" href="#hdf5">HDF5</a> and <a class="reference internal" href="#netcdf">NetCDF</a> modules.</p>
<p><a class="reference internal" href="#hdf5">HDF5</a> and <a class="reference internal" href="#netcdf">NetCDF</a> support require installed libraries in order to work, please
see the respective modules for details on how to obtain and install the
libraries needed.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pyclaw automatically detects the availability of HDF5 and NetCDF file
support and will warn you if you try and use them without the proper
libraries.</p>
</div>
</div></blockquote>
<section id="module-clawpack.pyclaw.fileio.ascii">
<span id="pyclaw-fileio-ascii"></span><span id="ascii"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.ascii</span></code><a class="headerlink" href="#module-clawpack.pyclaw.fileio.ascii" title="Permalink to this heading">¶</a></h2>
<p>Routines for reading and writing an ascii output file</p>
<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.ascii.read">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.ascii.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fort'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_aux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.ascii.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a frame of ascii formatted files, and enter the data into the
solution object.</p>
<p>This routine reads the ascii formatted files corresponding to the classic
clawpack format ‘fort.txxxx’, ‘fort.qxxxx’, and ‘fort.axxxx’ or ‘fort.aux’
Note that the fort prefix can be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Solution object to 
read the data into.</p></li>
<li><p><em>frame</em> - (int) Frame number to be read in</p></li>
<li><p><em>path</em> - (string) Path to the current directory of the file</p></li>
<li><p><em>file_prefix</em> - (string) Prefix of the files to be read in.  
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'fort'</span></code></p></li>
<li><p><em>read_aux</em> (bool) Whether or not an auxiliary file will try to be read 
in.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></li>
<li><p><em>options</em> - (dict) Dictionary of optional arguments dependent on 
the format being read in.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">{}</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.ascii.read_array">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.ascii.</span></span><span class="sig-name descname"><span class="pre">read_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_var</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.ascii.read_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in an array from an ASCII output file f.</p>
<p>The variable q here may in fact refer to q or to aux.</p>
<p>This routine supports the possibility that the values
q[:,i,j,k] (for a fixed i,j,k) have been split over multiple lines, because
some packages write just 4 values per line.
For Clawpack 6.0, we plan to make all packages write
q[:,i,j,k] on a single line.  This routine can then be simplified.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.ascii.read_patch_header">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.ascii.</span></span><span class="sig-name descname"><span class="pre">read_patch_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_dim</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.ascii.read_patch_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Read header describing the next patch</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>f</em> - (file) Handle to open file</p></li>
<li><p><em>num_dim</em> - (int) Number of dimensions</p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><em>patch</em> - (clawpack.pyclaw.geometry.Patch) Initialized patch represented
by the header data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.ascii.read_t">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.ascii.</span></span><span class="sig-name descname"><span class="pre">read_t</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fort'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.ascii.read_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Read only the fort.t file and return the data.</p>
<p>Note this file is always ascii and now contains a line that tells
the file_format, so we can read this file before importing the 
appropriate read function for the solution data.</p>
<p>For backward compatibility, if file_format line is missing then
return None and handle this where it is called.</p>
<p>This version also reads in num_ghost so that if the data is binary,
we can extract only the data that’s relevant (since ghost cells are
included).</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>frame</em> - (int) Frame number to be read in</p></li>
<li><p><em>path</em> - (string) Path to the current directory of the file</p></li>
<li><p><em>file_prefix</em> - (string) Prefix of the files to be read in.  
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'fort'</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Output<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>(list) List of output variables</p></li>
<li><p><em>t</em> - (int) Time of frame</p></li>
<li><p><em>num_eqn</em> - (int) Number of equations in the frame</p></li>
<li><p><em>nstates</em> - (int) Number of states</p></li>
<li><p><em>num_aux</em> - (int) Auxiliary value in the frame</p></li>
<li><p><em>num_dim</em> - (int) Number of dimensions in q and aux</p></li>
<li><p><em>num_ghost</em> - (int) Number of ghost cells on each side</p></li>
<li><p><em>file_format</em> - (str) ‘ascii’, ‘binary32’, ‘binary64’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.ascii.write">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.ascii.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fort'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_aux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.ascii.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out ascii data file</p>
<p>Write out an ascii file formatted identical to the fortran clawpack files
including writing out fort.t, fort.q, and fort.aux if necessary.  Note
that there are some parameters that assumed to be the same for every patch
in this format which is not necessarily true for the actual data objects.
Make sure that if you use this output format that all of your patches share
the appropriate values of num_dim, num_eqn, num_aux, and t.  Only supports
up to 3 dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Pyclaw object to be 
output.</p></li>
<li><p><em>frame</em> - (int) Frame number</p></li>
<li><p><em>path</em> - (string) Root path</p></li>
<li><p><em>file_prefix</em> - (string) Prefix for the file name.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'fort'</span></code></p></li>
<li><p><em>write_aux</em> - (bool) Boolean controlling whether the associated 
auxiliary array should be written out.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></li>
<li><p><em>options</em> - (dict) Dictionary of optional arguments dependent on 
the format being written.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">{}</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.ascii.write_array">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.ascii.</span></span><span class="sig-name descname"><span class="pre">write_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.ascii.write_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a single array to output file f as ASCII text.</p>
<p>The variable q here may in fact refer to q or to aux.</p>
</dd></dl>

</section>
<section id="module-clawpack.pyclaw.fileio.binary">
<span id="pyclaw-fileio-binary"></span><span id="binary"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.binary</span></code><a class="headerlink" href="#module-clawpack.pyclaw.fileio.binary" title="Permalink to this heading">¶</a></h2>
<p>Routines for reading a raw binary output file from AMRClaw.
Note that there is no corresponding output option in PyClaw,
which is why there is no “write” function here (the code that
writes these files is in AMRClaw, in Fortran).</p>
<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.binary.read">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.binary.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fort'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_aux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.binary.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a set of raw binary files</p>
<p>This routine reads the binary formatted files 
fort.txxxx contains info about frame
fort.qxxxx still contains headers for each grid patch
fort.bxxxx is binary dump of data from all patches.
fort.axxxx is binary dump of aux arrays from all patches.</p>
<p>Note that the fort prefix can be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Solution object to 
read the data into.</p></li>
<li><p><em>frame</em> - (int) Frame number to be read in</p></li>
<li><p><em>path</em> - (string) Path to the current directory of the file</p></li>
<li><p><em>file_prefix</em> - (string) Prefix of the files to be read in.  
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'fort'</span></code></p></li>
<li><p><em>read_aux</em> (bool) Whether or not to read auxiliary data from fort.axxxx.
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></li>
<li><p><em>options</em> - (dict) Dictionary of optional arguments dependent on 
the format being read in.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">{}</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clawpack.pyclaw.fileio.hdf5">
<span id="pyclaw-fileio-hdf5"></span><span id="hdf5"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.hdf5</span></code><a class="headerlink" href="#module-clawpack.pyclaw.fileio.hdf5" title="Permalink to this heading">¶</a></h2>
<p>Routines for reading and writing a HDF5 output file</p>
<dl class="simple">
<dt>This module reads and writes hdf5 files via either of the following modules:</dt><dd><p>h5py - <a class="reference external" href="http://code.google.com/p/h5py/">http://code.google.com/p/h5py/</a>
PyTables - <a class="reference external" href="http://www.pytables.org/moin">http://www.pytables.org/moin</a></p>
</dd>
</dl>
<p>It will first try h5py and then PyTables and use the correct calls
according to whichever is present on the system.  We recommend that you use
h5py as it is a minimal wrapper to the HDF5 library.</p>
<dl class="simple">
<dt>To install either, you must also install the hdf5 library from the website:</dt><dd><p><a class="reference external" href="http://www.hdfgroup.org/HDF5/release/obtain5.html">http://www.hdfgroup.org/HDF5/release/obtain5.html</a></p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.hdf5.read">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.hdf5.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'claw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_aux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.hdf5.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a HDF5 file into a Solution</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Pyclaw object to be 
output</p></li>
<li><p><em>frame</em> - (int) Frame number</p></li>
<li><p><em>path</em> - (string) Root path</p></li>
<li><p><em>file_prefix</em> - (string) Prefix for the file name.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'claw'</span></code></p></li>
<li><p><em>write_aux</em> - (bool) Boolean controlling whether the associated 
auxiliary array should be written out.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></li>
<li><p><em>options</em> - (dict) Optional argument dictionary, not used for reading.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.hdf5.write">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.hdf5.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'claw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_aux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.hdf5.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out a Solution to a HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Pyclaw solution 
object to input into</p></li>
<li><p><em>frame</em> - (int) Frame number</p></li>
<li><p><em>path</em> - (string) Root path</p></li>
<li><p><em>file_prefix</em> - (string) Prefix for the file name.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'claw'</span></code></p></li>
<li><p><em>write_aux</em> - (bool) Boolean controlling whether the associated 
auxiliary array should be written out.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></li>
<li><p><em>options</em> - (dict) Optional argument dictionary, see 
<a class="reference internal" href="#hdf5-option-table">HDF5 Option Table</a></p></li>
</ul>
</dd>
</dl>
<table class="docutils align-default" id="hdf5-option-table">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>compression</p></td>
<td><p>(None, string [“gzip” | “lzf” | “szip”] or int 0-9)
Enable dataset compression. DEFLATE, LZF and (where
available) SZIP are supported. An integer is
interpreted as a GZIP level for backwards
compatibility.</p></td>
</tr>
<tr class="row-odd"><td><p>compression_opts</p></td>
<td><p>(None, or special value) Setting for compression
filter; legal values for each filter type are:</p>
<ul class="simple">
<li><p><em>gzip</em> - (int) 0-9</p></li>
<li><p><em>lzf</em> - None allowed</p></li>
<li><dl class="simple">
<dt><em>szip</em> - (tuple) 2-tuple (‘ec’|’nn’, even integer</dt><dd><p>0-32)</p>
</dd>
</dl>
</li>
</ul>
<p>See the filters module for a detailed description of
each of these filters.</p>
</td>
</tr>
<tr class="row-even"><td><p>chunks</p></td>
<td><p>(None, True or shape tuple) Store the dataset in
chunked format. Automatically selected if any of the
other keyword options are given. If you don’t provide
a shape tuple, the library will guess one for you.</p></td>
</tr>
<tr class="row-odd"><td><p>shuffle</p></td>
<td><p>(True/False) Enable/disable data shuffling, which can
improve compression performance. Automatically
enabled when compression is used.</p></td>
</tr>
<tr class="row-even"><td><p>fletcher32</p></td>
<td><p>(True/False) Enable Fletcher32 error detection; may
be used with or without compression.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>
<section id="module-clawpack.pyclaw.fileio.netcdf">
<span id="pyclaw-fileio-netcdf"></span><span id="netcdf"></span><h2><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.netcdf</span></code><a class="headerlink" href="#module-clawpack.pyclaw.fileio.netcdf" title="Permalink to this heading">¶</a></h2>
<p>Routines for reading and writing a NetCDF output file</p>
<dl class="simple">
<dt>Routines for reading and writing a NetCDF output file via either</dt><dd><ul class="simple">
<li><p>netcdf4-python - <a class="reference external" href="http://code.google.com/p/netcdf4-python/">http://code.google.com/p/netcdf4-python/</a></p></li>
<li><p>pupynere - <a class="reference external" href="http://pypi.python.org/pypi/pupynere/">http://pypi.python.org/pypi/pupynere/</a></p></li>
</ul>
</dd>
</dl>
<p>These interfaces are very similar so if a different module needs to be used,
it can more than likely be inserted with a minimal of effort.</p>
<p>This module will first try to import the netcdf4-python module which is based
on the compiled libraries and failing that will attempt to import the pure
python interface pupynere which requires no libraries.</p>
<dl class="simple">
<dt>To install the netCDF 4 library, please see:</dt><dd><p><a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/">http://www.unidata.ucar.edu/software/netcdf/</a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Authors<span class="colon">:</span></dt>
<dd class="field-odd"><p>Kyle T. Mandli (2009-02-17) Initial version</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.netcdf.read">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.netcdf.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'claw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_aux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.netcdf.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a NetCDF data files into solution</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Pyclaw object to be 
output</p></li>
<li><p><em>frame</em> - (int) Frame number</p></li>
<li><p><em>path</em> - (string) Root path</p></li>
<li><p><em>file_prefix</em> - (string) Prefix for the file name.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'claw'</span></code></p></li>
<li><p><em>write_aux</em> - (bool) Boolean controlling whether the associated 
auxiliary array should be written out.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></li>
<li><p><em>options</em> - (dict) Optional argument dictionary, unused for reading.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clawpack.pyclaw.fileio.netcdf.write">
<span class="sig-prename descclassname"><span class="pre">clawpack.pyclaw.fileio.netcdf.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'claw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_aux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#clawpack.pyclaw.fileio.netcdf.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out a NetCDF data file representation of solution</p>
<dl class="field-list simple">
<dt class="field-odd">Input<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>solution</em> - (<code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code>) Pyclaw object to be 
output</p></li>
<li><p><em>frame</em> - (int) Frame number</p></li>
<li><p><em>path</em> - (string) Root path</p></li>
<li><p><em>file_prefix</em> - (string) Prefix for the file name. <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">'claw'</span></code></p></li>
<li><p><em>write_aux</em> - (bool) Boolean controlling whether the associated 
auxiliary array should be written out. <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></li>
<li><p><em>options</em> - (dict) Optional argument dictionary, see 
<a class="reference internal" href="#netcdf-option-table">NetCDF Option Table</a></p></li>
</ul>
</dd>
</dl>
<table class="docutils align-default" id="netcdf-option-table">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>description</p></td>
<td><p>Dictionary of key/value pairs that will be
attached to the root group as attributes,
i.e. {‘time’:3}</p></td>
</tr>
<tr class="row-odd"><td><p>format</p></td>
<td><p>Can be one of the following netCDF flavors:
NETCDF3_CLASSIC, NETCDF3_64BIT,
NETCDF4_CLASSIC, and NETCDF4
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">NETCDF4</span></code></p></td>
</tr>
<tr class="row-even"><td><p>clobber</p></td>
<td><p>if True (Default), file will be overwritten,
if False an exception will be raised</p></td>
</tr>
<tr class="row-odd"><td><p>zlib</p></td>
<td><p>if True, data assigned to the Variable
instance is compressed on disk.
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></td>
</tr>
<tr class="row-even"><td><p>complevel</p></td>
<td><p>the level of zlib compression to use (1 is
the fastest, but poorest compression, 9 is
the slowest but best compression).  Ignored
if zlib=False.  <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">6</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>shuffle</p></td>
<td><p>if True, the HDF5 shuffle filter is applied
to improve compression. Ignored if
zlib=False. <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">True</span></code></p></td>
</tr>
<tr class="row-even"><td><p>fletcher32</p></td>
<td><p>if True (default False), the Fletcher32
checksum algorithm is used for error
detection.</p></td>
</tr>
<tr class="row-odd"><td><p>contiguous</p></td>
<td><p>if True (default False), the variable data
is stored contiguously on disk.  Setting to
True for a variable with an unlimited
dimension will trigger an error.
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">False</span></code></p></td>
</tr>
<tr class="row-even"><td><p>chunksizes</p></td>
<td><p>Can be used to specify the HDF5 chunksizes
for each dimension of the variable. A
detailed discussion of HDF chunking and I/O
performance is available here. Basically,
you want the chunk size for each dimension
to match as closely as possible the size of
the data block that users will read from the
file. chunksizes cannot be set if
contiguous=True.</p></td>
</tr>
<tr class="row-odd"><td><p>least_significant_digit</p></td>
<td><p>If specified, variable data will be
truncated (quantized). In conjunction with
zlib=True this produces ‘lossy’, but
significantly more efficient compression.
For example, if least_significant_digit=1,
data will be quantized using around
(scale*data)/scale, where scale = 2**bits,
and bits is determined so that a precision
of 0.1 is retained (in this case bits=4).
<code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">=</span> <span class="pre">None</span></code>, or no quantization.</p></td>
</tr>
<tr class="row-even"><td><p>endian</p></td>
<td><p>Can be used to control whether the data is
stored in little or big endian format on
disk. Possible values are little, big or
native (default). The library will
automatically handle endian conversions when
the data is read, but if the data is always
going to be read on a computer with the
opposite format as the one used to create
the file, there may be some performance
advantage to be gained by setting the
endian-ness.</p></td>
</tr>
<tr class="row-odd"><td><p>fill_value</p></td>
<td><p>If specified, the default netCDF _FillValue
(the value that the variable gets filled
with before any data is written to it) is
replaced with this value. If fill_value is
set to False, then the variable is not
pre-filled.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The zlib, complevel, shuffle, fletcher32, contiguous, chunksizes and
endian keywords are silently ignored for netCDF 3 files that do not 
use HDF5.</p>
</div>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p><a href="http://clawpack.org/">
    <img class="logo" src= "../_static/clawlogo.jpg" alt="Logo"/>
</a>
<h2>Version 5.10.x</h2>
</p>
  <div>
    <h3><a href="../contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Pyclaw Input/Output Package</a><ul>
<li><a class="reference internal" href="#module-clawpack.pyclaw.fileio.ascii"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.ascii</span></code></a><ul>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.ascii.read"><code class="docutils literal notranslate"><span class="pre">read()</span></code></a></li>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.ascii.read_array"><code class="docutils literal notranslate"><span class="pre">read_array()</span></code></a></li>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.ascii.read_patch_header"><code class="docutils literal notranslate"><span class="pre">read_patch_header()</span></code></a></li>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.ascii.read_t"><code class="docutils literal notranslate"><span class="pre">read_t()</span></code></a></li>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.ascii.write"><code class="docutils literal notranslate"><span class="pre">write()</span></code></a></li>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.ascii.write_array"><code class="docutils literal notranslate"><span class="pre">write_array()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clawpack.pyclaw.fileio.binary"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.binary</span></code></a><ul>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.binary.read"><code class="docutils literal notranslate"><span class="pre">read()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clawpack.pyclaw.fileio.hdf5"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.hdf5</span></code></a><ul>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.hdf5.read"><code class="docutils literal notranslate"><span class="pre">read()</span></code></a></li>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.hdf5.write"><code class="docutils literal notranslate"><span class="pre">write()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clawpack.pyclaw.fileio.netcdf"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclaw.fileio.netcdf</span></code></a><ul>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.netcdf.read"><code class="docutils literal notranslate"><span class="pre">read()</span></code></a></li>
<li><a class="reference internal" href="#clawpack.pyclaw.fileio.netcdf.write"><code class="docutils literal notranslate"><span class="pre">write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="../contents.html">Documentation overview</a><ul>
  <li><a href="index.html">PyClaw</a><ul>
      <li>Previous: <a href="evolve/limiters.html" title="previous chapter">Pyclaw Limiters</a></li>
      <li>Next: <a href="solution.html" title="next chapter">PyClaw Solutions</a></li>
  </ul></li>
  </ul></li>
</ul>
<div class="widget navlinks">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/pyclaw/io.rst.txt"
            rel="nofollow"
            target="_blank">Source .rst</a></li>
    <li><a href="https://github.com/clawpack/doc/blob/dev/doc/pyclaw/io.rst"
            rel="nofollow"
            target="_blank">Source on GitHub</a></li>
     <li><a href="https://github.com/clawpack/doc/commits/dev/doc/pyclaw/io.rst"
             rel="nofollow"
             target="_blank">History</a></li>
    <li><a href="https://github.com/clawpack/doc/edit/dev/doc/pyclaw/io.rst"
            rel="nofollow"
            target="_blank">Suggest Edits</a></li>
     <li><a href="https://github.com/clawpack/doc/issues/new/choose"
             rel="nofollow"
             target="_blank">Raise an Issue</a></li>
  </ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
<h4>Latest Version</h4>
<ul>
  <li><a href="io.html">dev</a></li>
  <li><a href="../../v5.10.x/pyclaw/io.html">v5.10.x</a></li>
</ul>
<h4>Older Versions</h4>
<ul>
  <li><a href="../../v5.7.x/pyclaw/io.html">v5.7.x</a></li>
  <li><a href="../../v5.8.x/pyclaw/io.html">v5.8.x</a></li>
  <li><a href="../../v5.9.x/pyclaw/io.html">v5.9.x</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright CC-BY 2024, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44811544-1', 'auto');
  ga('send', 'pageview');

  </script>
  
  </body>
</html>