
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>v5.10.0 release notes &#8212; Clawpack 5.10.x documentation</title>
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/layout.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/flasky.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <h1><a href="http://clawpack.org/">Clawpack-5</a></h1> 
    <nav>
      <ul>
        <li>
          <a href="contents.html">Docs</a>
        </li>
        <li>
          <a href="installing.html">Install</a>
        </li>
        <li>
          <a class="" href="http://clawpack.org/gallery/index.html">Gallery</a>
        </li>
        <li>
          <a href="about.html">Citation</a>
        </li>
        <li>
          <a class="active" href="http://github.com/clawpack">GitHub</a>
        </li>
        <li>
          <a class="" href="community.html">Community</a>
        </li>
        <li>
          <a class="" href="developers.html">Contribute</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">Clawpack 5.10.x documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">v5.10.0 release notes</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="v5-10-0-release-notes">
<span id="release-5-10-0"></span><h1>v5.10.0 release notes<a class="headerlink" href="#v5-10-0-release-notes" title="Permalink to this heading">¶</a></h1>
<p>Clawpack 5.10.0 was released on XX. See <a class="reference internal" href="installing.html#installing"><span class="std std-ref">Installing Clawpack</span></a>.</p>
<p>Permanent DOI: <a class="reference external" href="http://doi.org/10.5281/zenodo.XX">http://doi.org/10.5281/zenodo.XX</a></p>
<p>Changes relative to Clawpack 5.9.2 (November 4, 2023) are shown below.</p>
<p>To see more recent changes that are in the the master branch but not yet
released, see <a class="reference internal" href="changes_to_master.html#changes-to-master"><span class="std std-ref">Changes to master since v5.9.2</span></a>.</p>
<p>Follow the links to see changes that have been made to the master branch of
each repository since the last release (v5.10.0) on XX.</p>
<p>These changes should appear in the next release.  If you need them now,
see <a class="reference internal" href="developers.html#developers"><span class="std std-ref">Developers’ Guide</span></a> for instructions on cloning and installing from the
master branch.</p>
<p>To see documentation that has already been developed to accompany any new
features listed below, click on the “dev” branch of the documentation, in
the menu on the left hand side of this page.</p>
<section id="changes-that-are-not-backward-compatible">
<h2>Changes that are not backward compatible<a class="headerlink" href="#changes-that-are-not-backward-compatible" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>The switch to meson made in v5.9.2 requires the installation of some
additional packages for developers or others who choose to clone the
repositories from Github.  The instructions in <a class="reference internal" href="developers.html#setup-dev"><span class="std std-ref">Installation instructions for developers</span></a>
now include instructions to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">-</span><span class="n">dev</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>as part of the installation.</p>
</li>
<li><p>In GeoClaw, when solving equations on the sphere, a spherical source term
in the mass equation is now included by default.  This term was missing
previously and so results may change.
See <a class="reference external" href="https://www.clawpack.org/sphere_source.html">https://www.clawpack.org/sphere_source.html</a> for more discussion
and instructions for omitting this source term.</p></li>
</ul>
</section>
<section id="changes-to-classic">
<h2>Changes to classic<a class="headerlink" href="#changes-to-classic" title="Permalink to this heading">¶</a></h2>
<p>None.</p>
<p>See <a class="reference external" href="https://github.com/clawpack/classic/compare/v5.9.2...v5.10.0">classic diffs</a></p>
</section>
<section id="changes-to-clawutil">
<h2>Changes to clawutil<a class="headerlink" href="#changes-to-clawutil" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p><cite>$CLAW/clawutil/src/Makefile.common</cite>, the main Makefile imported by all
application Makefiles in the Fortran versions, has been improved:</p>
<ul>
<li><p>When using <cite>make new</cite> to recompile all routines, after the modules are
compiled all other fortran source codes are compiled in parallel,
speeding up the process.</p></li>
<li><p>RUNEXE was added to provide a string to be inserted before the name
of the executable <cite>EXE</cite> in order to run it. This is necessary in
particular to run the new 2D Boussinesq code using MPI, see
<a class="reference internal" href="bouss2d.html#bouss2d"><span class="std std-ref">Boussinesq solvers in Two Space Dimensions</span></a> for instructions.</p>
<p>(Support for this also added to
<cite>$CLAW/clawutil/src/python/clawutil/runclaw.py</cite>).</p>
</li>
<li><p>If <cite>FC</cite> is any variant of <cite>gfortran</cite> then use the same flags as
<cite>gfortran</cite>.</p></li>
</ul>
</li>
<li><p>Support added to
<cite>$CLAW/clawutil/src/python/clawutil/data.py</cite> for <cite>checkpt_style==4</cite>
in AMRClaw and GeoClaw (see below), and also for the
<a class="reference external" href="https://dlgeorge.github.io/project/dclaw-project">D-Claw code</a>
for granular-fluid flows,
which is being updated to work with the latest version of Clawpack.
This is still work in progress.</p></li>
<li><p>Other minor changes.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/clawutil/compare/v5.9.2...v5.10.0">clawutil diffs</a></p>
</section>
<section id="changes-to-visclaw">
<h2>Changes to visclaw<a class="headerlink" href="#changes-to-visclaw" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>Change the default <cite>plotfigure.facecolor</cite> to white for plots made by <cite>frametools.py</cite> (rather than <cite>clawpack_tan</cite>).</p></li>
<li><p>Add hillshade option to <cite>frametools.py</cite> for better visualization of topography.</p></li>
<li><p>Add <cite>imshow_norm</cite> and <cite>imshow_alpha</cite> as ClawPlotItem attributes for imshow plots.</p></li>
<li><p>Remove deprecated <cite>faceted</cite> kwarg in calls to pcolor from <cite>frametools.py</cite>.</p></li>
<li><p>Option added to make mpeg movies when doing <cite>make plots</cite>.
Provided <a class="reference external" href="https://ffmpeg.org/">ffmpeg</a> is installed,
simply include this line in <cite>setplot.py</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plotdata</span><span class="o">.</span><span class="n">mp4_movie</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Then <cite>_plots</cite> will include <cite>movie_figN.mp4</cite> for each <cite>figno N</cite> listed in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plotdata</span><span class="o">.</span><span class="n">print_fignos</span>
</pre></div>
</div>
<p>and will also be linked from the <cite>_PlotIndex.html</cite> file.</p>
<p>You can also now easily change the name of the movie (also for the .html
version created by JSAnimation and the .gif version if requested) via e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plotdata</span><span class="o">.</span><span class="n">movie_name_prefix</span> <span class="o">=</span> <span class="s1">&#39;chile2010_&#39;</span>   <span class="c1"># default is &#39;movie_&#39;</span>
</pre></div>
</div>
<p>Then <cite>_plots</cite> will include <cite>chile2010_figN.mp4</cite> for each figure.</p>
</li>
<li><p>Updates to matlab plotting routines.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/visclaw/compare/v5.9.2...v5.10.0">visclaw diffs</a></p>
</section>
<section id="changes-to-riemann">
<h2>Changes to riemann<a class="headerlink" href="#changes-to-riemann" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>New Riemann solver for the p-system.</p></li>
<li><p>Clean up some other things.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/riemann/compare/v5.9.2...v5.10.0">riemann diffs</a></p>
</section>
<section id="changes-to-amrclaw">
<h2>Changes to amrclaw<a class="headerlink" href="#changes-to-amrclaw" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Bug fix for case when the domain is periodic only in x and not in y.</p></li>
<li><p>STOP feature added: If you create a (possibly empty) file named STOP in the
run directory then the code will stop at the end of the current coarse grid
time step, after writing a checkpoint file. Useful to kill a computation with
the ability to restart after fixing something.</p></li>
<li><p>Most routines in <cite>$CLAW/amr/src/2d</cite> were cleaned up to replace do loop labels
and closing continue statements with more modern <cite>enddo</cite>, avoiding
many warning messages when compiling the code.
(Still need to clean up 1d and 3d, and classic code, but this cleans up
GeoClaw compilation a lot.)</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/amrclaw/compare/v5.9.2...v5.10.0">amrclaw diffs</a></p>
</section>
<section id="changes-to-geoclaw">
<h2>Changes to geoclaw<a class="headerlink" href="#changes-to-geoclaw" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>For shallow water equations on the sphere, a spherical source term
in the mass equation is now included by default.  This term was missing
previously and so results may change.
See <a class="reference external" href="https://www.clawpack.org/sphere_source.html">https://www.clawpack.org/sphere_source.html</a> for more discussion
and instructions for omitting this source term.</p></li>
<li><p>1D GeoClaw code added, as described at <a class="reference internal" href="geoclaw1d.html#geoclaw1d"><span class="std std-ref">GeoClaw in One Space Dimension</span></a>. In particular there
are new directories <cite>$CLAW/geoclaw/src/1d_classic</cite> and
<cite>$CLAW/geoclaw/examples/1d_classic</cite>.</p></li>
<li><p>1D Boussinesq code added in <cite>$CLAW/geoclaw/src/1d_classic/bouss</cite> and some of
the examples, as described in <a class="reference internal" href="bouss1d.html#bouss1d"><span class="std std-ref">Boussinesq solvers in One Space Dimension</span></a>.</p></li>
<li><p>2D Boussinesq code added, as described in <a class="reference internal" href="bouss2d.html#bouss2d"><span class="std std-ref">Boussinesq solvers in Two Space Dimensions</span></a>.  In particular there
are new directories <cite>$CLAW/geoclaw/src/2d/bouss</cite> and
<cite>$CLAW/geoclaw/examples/2d/bouss</cite>.</p></li>
<li><p>Using the 2D Boussinesq version of the code requires <a class="reference external" href="https://petsc.org/release/">PETSc</a> for solving the large sparse linear systems
that arise, which also requires LAPACK, BLAS, and MPI;
see <a class="reference external" href="https://www.clawpack.org/dev/bouss2d.html#bouss2d-prereqs">Prerequisites for the 2d Boussinesq code</a>.</p></li>
<li><p><cite>checkpt_style == 4</cite> is now supported, meaning to create a checkpoint file
at every output time.  (As with other options, setting it to -4 means to
checkpoint at the same times but to alternate between two checkpoint files
rather than creating a unique file for each checkpoint, greatly reducing
storage if you only need the latest one.)</p></li>
<li><p>Introduce <cite>integer(kind=8)</cite> variables for some <cite>topo_module</cite> variables to
handle very large topo files for which the index was overflowing.</p></li>
<li><p>Introduce STOP feature as described in above for amrclaw.</p></li>
<li><p>Improve calculation of number of steps to take (<cite>ntogo</cite>) when CFL number is
too large in one step.  (Still have issues sometimes where code dies with
too many dt reductions….)</p></li>
<li><p>Fix bug in python function <cite>clawpack.geoclaw.util.bearing</cite> and introduce new
<cite>clawpack.geoclaw.util.gctransect</cite> to compute points along a great circle
transect connecting two points on the sphere. (Transects obtained by
linear interpolation in x,y are fine over small regions but not for
global-scale transects.)</p></li>
<li><p>Other minor bug fixes, improvements, and cleanup.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/geoclaw/compare/v5.9.2...v5.10.0">geoclaw diffs</a></p>
</section>
<section id="changes-to-pyclaw">
<h2>Changes to PyClaw<a class="headerlink" href="#changes-to-pyclaw" title="Permalink to this heading">¶</a></h2>
<p>None.</p>
<p>See <a class="reference external" href="https://github.com/clawpack/pyclaw/compare/v5.9.2...v5.10.0">pyclaw diffs</a></p>
<p>For older changes in PyClaw, see also the <a class="reference external" href="https://github.com/clawpack/pyclaw/blob/master/CHANGES.md">PyClaw changelog</a>.</p>
</section>
</section>
<section id="other-clawpack-repositories">
<h1>Other Clawpack Repositories<a class="headerlink" href="#other-clawpack-repositories" title="Permalink to this heading">¶</a></h1>
<p>The repositories below are not included in the Clawpack tarfile or pip
install, but changes to these repositories may also be of interest.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/clawpack/apps/compare/v5.9.2...v5.10.0">apps diffs</a></p></li>
<li><p><a class="reference external" href="https://github.com/clawpack/doc/compare/v5.9.x...dev">doc diffs</a>
shows changes in the <cite>dev</cite> branch not yet in the main version of the
documentation.</p></li>
<li><p><a class="reference external" href="https://github.com/clawpack/docker-files/compare/v5.9.2...v5.10.0">docker-files diffs</a></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p><a href="http://clawpack.org/">
    <img class="logo" src= "_static/clawlogo.jpg" alt="Logo"/>
</a>
<h2>Version 5.10.x</h2>
</p>
  <div>
    <h3><a href="contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">v5.10.0 release notes</a><ul>
<li><a class="reference internal" href="#changes-that-are-not-backward-compatible">Changes that are not backward compatible</a></li>
<li><a class="reference internal" href="#changes-to-classic">Changes to classic</a></li>
<li><a class="reference internal" href="#changes-to-clawutil">Changes to clawutil</a></li>
<li><a class="reference internal" href="#changes-to-visclaw">Changes to visclaw</a></li>
<li><a class="reference internal" href="#changes-to-riemann">Changes to riemann</a></li>
<li><a class="reference internal" href="#changes-to-amrclaw">Changes to amrclaw</a></li>
<li><a class="reference internal" href="#changes-to-geoclaw">Changes to geoclaw</a></li>
<li><a class="reference internal" href="#changes-to-pyclaw">Changes to PyClaw</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-clawpack-repositories">Other Clawpack Repositories</a></li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
  </ul></li>
</ul>
<div class="widget navlinks">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/release_5_10_0.rst.txt"
            rel="nofollow"
            target="_blank">Source .rst</a></li>
    <li><a href="https://github.com/clawpack/doc/blob/dev/doc/release_5_10_0.rst"
            rel="nofollow"
            target="_blank">Source on GitHub</a></li>
     <li><a href="https://github.com/clawpack/doc/commits/dev/doc/release_5_10_0.rst"
             rel="nofollow"
             target="_blank">History</a></li>
    <li><a href="https://github.com/clawpack/doc/edit/dev/doc/release_5_10_0.rst"
            rel="nofollow"
            target="_blank">Suggest Edits</a></li>
     <li><a href="https://github.com/clawpack/doc/issues/new/choose"
             rel="nofollow"
             target="_blank">Raise an Issue</a></li>
  </ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
<h4>Latest Version</h4>
<ul>
  <li><a href="../dev/release_5_10_0.html">dev</a></li>
  <li><a href="release_5_10_0.html">v5.10.x</a></li>
</ul>
<h4>Older Versions</h4>
<ul>
  <li><a href="../v5.7.x/index.html">v5.7.x</a></li>
  <li><a href="../v5.8.x/index.html">v5.8.x</a></li>
  <li><a href="../v5.9.x/index.html">v5.9.x</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright CC-BY 2024, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44811544-1', 'auto');
  ga('send', 'pageview');

  </script>
  
  </body>
</html>