
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Release 5.1.0 &#8212; Clawpack 5.4.1 documentation</title>
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/base.css" type="text/css" />
    <link rel="stylesheet" href="_static/layout.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/clawicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
<div id="main-wrapper" class="sphinx">
<div id="header-wrapper">
  <section id="header">
    <!-- <h1><a href="http://clawpack.org/">Clawpack</a></h1> -->
    <h1><a href="http://clawpack.org/">Clawpack-5</a></h1> 
    <nav>
      <ul>
        <li>
          <a href="contents.html">Docs</a>
        </li>
        <li>
          <a href="installing.html">Install</a>
        </li>
        <li>
          <a class="" href="http://clawpack.org/gallery/index.html">Gallery</a>
        </li>
        <li>
          <a href="about.html">Citation</a>
        </li>
        <li>
          <a class="active" href="http://github.com/clawpack">GitHub</a>
        </li>
        <li>
          <a class="" href="community.html">Community</a>
        </li>
        <li>
          <a class="" href="developers.html">Contribute</a>
        </li>
      </ul>
    </nav>
  </section>
<div class="decoration"></div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">Clawpack 5.4.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<span class="docutils literal">/var/folders/_s/dx0xgftn3_x04rdx0_w5nq7w0000gn/T/tmp6vi7eas1/56744eeda50bfc1d8fec79d45060637228943b2f/release_5_1_0.rst</span>, line 2)</p>
<p>Field list ends without a blank line; unexpected unindent.</p>
</div>
<div class="section" id="release-5-1-0">
<span id="id1"></span><h1>Release 5.1.0<a class="headerlink" href="#release-5-1-0" title="Permalink to this headline">¶</a></h1>
<p>Clawpack 5.1.0 was released on March 2, 2014.  See <a class="reference internal" href="installing.html#installing"><span class="std std-ref">Installation options</span></a>.</p>
<div class="section" id="changes-to-classic">
<h2>Changes to classic<a class="headerlink" href="#changes-to-classic" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>None</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/classic/compare/aac8471ce97...v5.1.0">classic diffs</a></p>
</div>
<div class="section" id="changes-to-clawutil">
<h2>Changes to clawutil<a class="headerlink" href="#changes-to-clawutil" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Minor change for replacing a rundata object.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/clawutil/compare/55f81e395...v5.1.0">clawutil diffs</a></p>
</div>
<div class="section" id="changes-to-visclaw">
<h2>Changes to visclaw<a class="headerlink" href="#changes-to-visclaw" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Replaced JSAnimation.IPython_display.py by improved version.</p></li>
<li><p>Added an attribute to <cite>data.py</cite>.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/visclaw/compare/6669145d5bdf...v5.1.0">visclaw diffs</a></p>
</div>
<div class="section" id="changes-to-riemann">
<h2>Changes to riemann<a class="headerlink" href="#changes-to-riemann" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Changes to multi-layer code – do not attempt to compile  by default
since LAPACK is required.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/riemann/compare/7ef4a50f84c...v5.1.0">riemann diffs</a></p>
</div>
<div class="section" id="changes-to-amrclaw">
<h2>Changes to amrclaw<a class="headerlink" href="#changes-to-amrclaw" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Fixed the calling sequence where setaux is called two places in the
regridding routines.</p></li>
<li><p>Several other minor fixes.</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/amrclaw/compare/0ad5e60a38d...v5.1.0">amrclaw diffs</a></p>
</div>
<div class="section" id="changes-to-geoclaw">
<h2>Changes to geoclaw<a class="headerlink" href="#changes-to-geoclaw" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Changed gauge output to avoid underflow in printing.</p></li>
<li><p>Major change to the way moving topography (dtopo) is handled to correct
problems observed with earlier versions of GeoClaw in which the moving
topography was not always tracked properly.  A number of other
improvements were also made to the way topography more generally is
handled.  Some improvements:</p>
<blockquote>
<div><ul class="simple">
<li><p>Multiple dtopo files can be specified with overlapping time ranges and
spatial extent.</p></li>
<li><p>Each dtopo file now results in the automatic creation of a topo array
at the same resolution as the dtopo array that is updated before each
time step so that it contains the proper topography plus dtopo.
These arrays remain after the dtopo stops moving and contain the final
topography at the final time.  This avoids issues where dtopo might
have been specified at much finer resolution than the topo files. (In
earlier versions, the topo arrays were updated to incorporate the
final topo+dtopo but only stored at the resolution of the original
topo files.)</p></li>
<li><p>The routine for integrating the bilinear function defined by all
topo arrays over a grid cell to compute <cite>aux(1,i,j)</cite>  has been improved
by making it a recursive function that can handle an arbitrary number
of nested topo grids (including those created automatically from dtopo
grids).  Previous versions died if there were more than 4 nested topo
grids.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Several changes to the <cite>Makefile</cite> for a GeoClaw run are required because
of refactoring of this code.  You must:</p>
<blockquote>
<div><ul>
<li><p>Remove the line</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$(GEOLIB)/dtopo_module.f90 \
</pre></div>
</div>
</li>
<li><p>Replace the lines</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$(GEOLIB)/movetopo.f \
$(GEOLIB)/cellgridintegrate.f \
</pre></div>
</div>
<p>by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$(GEOLIB)/topo_update.f90 \
$(GEOLIB)/cellgridintegrate2.f \
</pre></div>
</div>
<p>For an example, see the changes made to
<cite>$CLAW/geoclaw/examples/tsunami/chile2010/Makefile</cite>,</p>
</li>
</ul>
</div></blockquote>
<p>As always, you should do <cite>make new</cite> in your application directory
after updating the version.</p>
</li>
<li><p>A new parameter has been added that can be set in <cite>setrun.py</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rundata</span><span class="o">.</span><span class="n">dtopo_data</span><span class="o">.</span><span class="n">dt_max_dtopo</span> <span class="o">=</span> <span class="mf">0.2</span>
</pre></div>
</div>
<p>for example will specify that the maximum time step allowed on the
coarsest level is 0.2 seconds during the time when the topography is
moving.  This avoids issues where the time step selected by the CFL
condition is much larger than the time scale over which the topography
changes.  You must also set <cite>rundata.clawdata.dt_initial</cite> to the same
value (or smaller) to insure that the first time step is sufficiently small.</p>
</li>
</ul>
<p>See <a class="reference external" href="https://github.com/clawpack/geoclaw/compare/v5.0.0...v5.1.0">geoclaw diffs</a></p>
</div>
<div class="section" id="changes-to-pyclaw">
<h2>Changes to PyClaw<a class="headerlink" href="#changes-to-pyclaw" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Added 3d capabilities to SharpClaw.</p></li>
<li><p>Many other minor fixes.</p></li>
</ul>
<p>For changes in PyClaw, see the <a class="reference external" href="https://github.com/clawpack/pyclaw/blob/master/CHANGES.md">PyClaw changelog</a>.</p>
<p>See <a class="reference external" href="https://github.com/clawpack/pyclaw/compare/875a98eea...v5.1.0">pyclaw diffs</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p><a href="http://clawpack.org/">
    <img class="logo" src= "_static/clawlogo.jpg" alt="Logo"/>
</a>
<h2>Version 5.4.1</h2>
</p>
  <h3><a href="contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Release 5.1.0</a><ul>
<li><a class="reference internal" href="#changes-to-classic">Changes to classic</a></li>
<li><a class="reference internal" href="#changes-to-clawutil">Changes to clawutil</a></li>
<li><a class="reference internal" href="#changes-to-visclaw">Changes to visclaw</a></li>
<li><a class="reference internal" href="#changes-to-riemann">Changes to riemann</a></li>
<li><a class="reference internal" href="#changes-to-amrclaw">Changes to amrclaw</a></li>
<li><a class="reference internal" href="#changes-to-geoclaw">Changes to geoclaw</a></li>
<li><a class="reference internal" href="#changes-to-pyclaw">Changes to PyClaw</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
  </ul></li>
</ul>
<div class="widget navlinks">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/release_5_1_0.rst.txt"
            rel="nofollow"
            target="_blank">Source .rst</a></li>
    <li><a href="https://github.com/clawpack/doc/blob/dev/doc/release_5_1_0.rst"
            rel="nofollow"
            target="_blank">Source on GitHub</a></li>
     <li><a href="https://github.com/clawpack/doc/commits/dev/doc/release_5_1_0.rst"
             rel="nofollow"
             target="_blank">History</a></li>
    <li><a href="https://github.com/clawpack/doc/edit/dev/doc/release_5_1_0.rst"
            rel="nofollow"
            target="_blank">Suggest Edits</a></li>
     <li><a href="https://github.com/clawpack/doc/issues/new/choose"
             rel="nofollow"
             target="_blank">Raise an Issue</a></li>
  </ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<h4>Latest Version</h4>
<ul>
  <li><a href="../dev/release_5_1_0.html">dev</a></li>
  <li><a href="../v5.9.x/release_5_1_0.html">v5.9.x</a></li>
</ul>
<h4>Older Versions</h4>
<ul>
  <li><a href="../v5.1.x/release_5_1_0.html">v5.1.x</a></li>
  <li><a href="../v5.2.x/release_5_1_0.html">v5.2.x</a></li>
  <li><a href="../v5.3.x/release_5_1_0.html">v5.3.x</a></li>
  <li><a href="release_5_1_0.html">v5.4.x</a></li>
  <li><a href="../v5.5.x/release_5_1_0.html">v5.5.x</a></li>
  <li><a href="../v5.6.x/release_5_1_0.html">v5.6.x</a></li>
  <li><a href="../v5.7.x/release_5_1_0.html">v5.7.x</a></li>
  <li><a href="../v5.8.x/release_5_1_0.html">v5.8.x</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright CC-BY 2022, The Clawpack Development Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44811544-1', 'auto');
  ga('send', 'pageview');

  </script>
  
  </body>
</html>